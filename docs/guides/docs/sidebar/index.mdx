---
slug: /sidebar
---

# 侧边栏

创建侧边栏的好处包括：

- 归类多个 **相关文档**
- 在每个文档上 **显示侧边栏**
- 提供 **分页导航**，包括前进/后退按钮

要在您的 Docusaurus 网站上使用侧边栏：

1. 定义一个侧边栏文件，导出一个 [侧边栏对象](#sidebar-object) 的字典。
2. 将其路径直接传递给 `@docusaurus/plugin-docs` 插件或通过 `@docusaurus/preset-classic`。

```js title="docusaurus.config.js"
export default {
  presets: [
    [
      '@docusaurus/preset-classic',
      {
        docs: {
          // highlight-next-line
          sidebarPath: './sidebars.js',
        },
      },
    ],
  ],
};
```

:::important Node.js 运行时

侧边栏文件在 Node.js 中运行。您无法在其中使用或导入浏览器 API、React 或 JSX。

:::

本节概述了文档侧边栏的其他功能。在接下来的部分中，我们将更系统地介绍以下概念：

```mdx-code-block
import DocCardList from '@theme/DocCardList';

<DocCardList />
```

## 默认侧边栏 {#default-sidebar}

如果未指定 `sidebarPath`，Docusaurus 会根据 `docs` 文件夹的文件系统结构 [自动生成侧边栏](autogenerated.mdx)：

```js title="sidebars.js"
export default {
  mySidebar: [
    {
      type: 'autogenerated',
      dirName: '.', // 从 docs 文件夹（或 versioned_docs/<version>）生成侧边栏
    },
  ],
};
```

您也可以显式定义侧边栏。

## 侧边栏对象 {#sidebar-object}

侧边栏的本质是类别、文档链接和其他超链接的层次结构。

```ts
type Sidebar =
  // 正常语法
  | SidebarItem[]
  // 简写语法
  | {[categoryLabel: string]: SidebarItem[]};
```

例如：

```js title="sidebars.js"
export default {
  mySidebar: [
    {
      type: 'category',
      label: '入门指南',
      items: [
        {
          type: 'doc',
          id: 'doc1',
        },
      ],
    },
    {
      type: 'category',
      label: 'Docusaurus',
      items: [
        {
          type: 'doc',
          id: 'doc2',
        },
        {
          type: 'doc',
          id: 'doc3',
        },
      ],
    },
    {
      type: 'link',
      label: '了解更多',
      href: 'https://example.com',
    },
  ],
};
```

这是一个导出一个名为 `mySidebar` 的侧边栏文件。它有三个顶级项目：两个类别和一个外部链接。每个类别中都有一些文档链接。

一个侧边栏文件可以包含 [**多个侧边栏对象**](multiple-sidebars.mdx)，通过其对象键进行标识。

```ts
type SidebarsFile = {
  [sidebarID: string]: Sidebar;
};
```

## 主题配置 {#theme-configuration}

### 可隐藏的侧边栏 {#hideable-sidebar}

通过启用 `themeConfig.docs.sidebar.hideable` 选项，您可以使整个侧边栏可隐藏，帮助用户更好地专注于内容。这在中型屏幕（如平板电脑）上特别有用。

```js title="docusaurus.config.js"
export default {
  themeConfig: {
    // highlight-start
    docs: {
      sidebar: {
        hideable: true,
      },
    },
    // highlight-end
  },
};
```

### 自动折叠侧边栏类别 {#auto-collapse-sidebar-categories}

`themeConfig.docs.sidebar.autoCollapseCategories` 选项将在展开一个类别时折叠所有同级类别。这可以帮助用户避免打开过多类别，从而专注于所选部分。

```js title="docusaurus.config.js"
export default {
  themeConfig: {
    // highlight-start
    docs: {
      sidebar: {
        autoCollapseCategories: true,
      },
    },
    // highlight-end
  },
};
```

## 传递自定义属性 {#passing-custom-props}

要将自定义属性传递给侧边栏项，请在任何项中添加可选的 `customProps` 对象。这对于通过更改渲染侧边栏项的 React 组件来应用站点自定义非常有用。

```js
{
  type: 'doc',
  id: 'doc1',
  // highlight-start
  customProps: {
    badges: ['new', 'green'],
    featured: true,
  },
  // highlight-end
};
```

## 侧边栏面包屑 {#sidebar-breadcrumbs}

默认情况下，面包屑在顶部渲染，使用当前页面的“侧边栏路径”。

可以通过插件选项禁用此行为：

```js title="docusaurus.config.js"
export default {
  presets: [
    [
      '@docusaurus/preset-classic',
      {
        docs: {
          // highlight-next-line
          breadcrumbs: false,
        },
      },
    ],
  ],
};
```

## 复杂侧边栏示例 {#complex-sidebars-example}

来自 Docusaurus 网站的一个真实示例：

```mdx-code-block
import CodeBlock from '@theme/CodeBlock';

<CodeBlock language="js" title="sidebars.js">
  {require('!!raw-loader!@site/sidebars.ts')
    .default
    .split('\n')
    // 移除注释
    .map((line) => !['//','/*','*'].some(commentPattern => line.trim().startsWith(commentPattern)) && line)
    .filter(Boolean)
    .join('\n')}
</CodeBlock>
```