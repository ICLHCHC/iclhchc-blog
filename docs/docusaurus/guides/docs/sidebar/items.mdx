---
sidebar_position: 1
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import BrowserWindow from '@site/src/components/BrowserWindow';

# 侧边栏项目

我们在前一节的示例中介绍了三种项目类型：`doc`、`category` 和 `link`，它们的用法相当直观。接下来我们将正式介绍它们的 API。还有一种第四种类型：`autogenerated`，我们将稍后详细解释。

- **[文档（Doc）](#sidebar-item-doc)**：链接到文档页面，并将其与侧边栏关联
- **[链接（Link）](#sidebar-item-link)**：链接到任何内部或外部页面
- **[分类（Category）](#sidebar-item-category)**：创建侧边栏项目的下拉菜单
- **[自动生成（Autogenerated）](autogenerated.mdx)**：自动生成侧边栏片段
- **[HTML](#sidebar-item-html)**：在项目位置渲染纯 HTML
- **[\*引用（Ref）](multiple-sidebars.mdx#sidebar-item-ref)**：链接到文档页面，但不参与导航生成

## 文档：链接到文档 {#sidebar-item-doc}

使用 `doc` 类型链接到文档页面并将其分配给侧边栏：

```ts
type SidebarItemDoc =
  // 正常语法
  | {
      type: 'doc';
      id: string;
      label: string; // 侧边栏标签文本
      className?: string; // 侧边栏标签的类名
      customProps?: Record<string, unknown>; // 自定义属性
    }

  // 简写语法
  | string; // docId 快捷方式
```

示例：

```js title="sidebars.js"
export default {
  mySidebar: [
    // 正常语法：
    {
      type: 'doc',
      id: 'doc1', // 文档 ID
      label: '入门指南', // 侧边栏标签
    },
    // 简写语法：
    'doc2', // 文档 ID
  ],
};
```

如果使用文档简写或 [自动生成](autogenerated.mdx) 侧边栏，将失去通过项目定义自定义侧边栏标签的能力。但是，可以在该文档中使用 `sidebar_label` Markdown 前置数据，它优先于侧边栏项目中的 `label` 键。同样，可以使用 `sidebar_custom_props` 声明文档页面的自定义元数据。

:::note

`doc` 项目设置了[隐式侧边栏关联](./multiple-sidebars.mdx#sidebar-association)。请不要将相同的文档分配给多个侧边栏：请将类型更改为 `ref`。

:::

:::tip

侧边栏自定义属性是一种有用的方式，可以将任意文档元数据传播到客户端，以便在使用任何获取文档对象的文档相关钩子时获取附加信息。

:::

## 链接：链接到任何页面 {#sidebar-item-link}

使用 `link` 类型链接到任何页面（内部或外部），而不是文档。

```ts
type SidebarItemLink = {
  type: 'link';
  label: string;
  href: string;
  className?: string;
  description?: string;
};
```

示例：

```js title="sidebars.js"
export default {
  myLinksSidebar: [
    // 外部链接
    {
      type: 'link',
      label: 'Facebook', // 链接标签
      href: 'https://facebook.com', // 外部 URL
    },
    // 内部链接
    {
      type: 'link',
      label: '首页', // 链接标签
      href: '/', // 内部路径
    },
  ],
};
```

## HTML：渲染自定义标记 {#sidebar-item-html}

使用 `html` 类型在项目的 `<li>` 标签中渲染自定义 HTML。

这对于插入自定义项目（如分隔符、章节标题、广告和图片）非常有用。

```ts
type SidebarItemHtml = {
  type: 'html';
  value: string;
  defaultStyle?: boolean; // 使用默认菜单项目样式
  className?: string;
};
```

示例：

```js title="sidebars.js"
export default {
  myHtmlSidebar: [
    {
      type: 'html',
      value: '<img src="sponsor.png" alt="赞助商" />', // 要渲染的 HTML
      defaultStyle: true, // 使用默认菜单项目样式
    },
  ],
};
```

:::tip

菜单项目已经包裹在 `<li>` 标签中，因此如果你的自定义项目很简单，例如标题，只需提供一个字符串作为值，并使用 `className` 属性进行样式设置：

```js title="sidebars.js"
export default {
  myHtmlSidebar: [
    {
      type: 'html',
      value: '核心概念',
      className: 'sidebar-title',
    },
  ],
};
```

:::

## 分类：创建层级 {#sidebar-item-category}

使用 `category` 类型创建侧边栏项目的层级。

```ts
type SidebarItemCategory = {
  type: 'category';
  label: string; // 侧边栏标签文本
  items: SidebarItem[]; // 侧边栏项目数组
  className?: string;
  description?: string;

  // 分类选项：
  collapsible: boolean; // 设置该分类为可折叠
  collapsed: boolean; // 设置分类在默认情况下是折叠还是展开
  link: SidebarItemCategoryLinkDoc | SidebarItemCategoryLinkGeneratedIndex;
};
```

示例：

```js title="sidebars.js"
export default {
  docs: [
    {
      type: 'category',
      label: '指南',
      collapsible: true,
      collapsed: false,
      items: [
        'creating-pages',
        {
          type: 'category',
          label: '文档',
          items: ['introduction', 'sidebar', 'markdown-features', 'versioning'],
        },
      ],
    },
  ],
};
```

:::tip

当你不需要自定义时，使用 [**简写语法**](#category-shorthand)：

```js title="sidebars.js"
export default {
  docs: {
    指南: [
      'creating-pages',
      {
        文档: ['introduction', 'sidebar', 'markdown-features', 'versioning'],
      },
    ],
  },
};
```

:::

### 分类链接 {#category-link}

通过分类链接，单击分类可以导航到另一个页面。

:::tip

使用分类链接来介绍文档类别。

自动生成的类别可以使用 [`_category_.yml`](./autogenerated.mdx#category-item-metadata) 文件来声明链接。

:::

#### 生成的索引页面 {#generated-index-page}

你可以自动生成一个索引页面，显示该类别的所有直接子项。`slug` 允许你自定义生成页面的路由，默认为 `/category/[categoryName]`。

```js title="sidebars.js"
export default {
  docs: [
    {
      type: 'category',
      label: '指南',
      link: {
        type: 'generated-index',
        title: 'Docusaurus 指南',
        description: '了解 Docusaurus 最重要的概念！',
        slug: '/category/docusaurus-guides',
        keywords: ['guides'],
        image: '/img/docusaurus.png',
      },
      items: ['pages', 'docs', 'blog', 'search'],
    },
  ],
};
```

在 [Docusaurus 指南页面](/docs/category/guides) 上查看实际效果。

:::tip

使用 `generated-index` 链接作为获取介绍文档的快捷方式。

:::

#### 文档链接 {#category-doc-link}

一个类别可以链接到现有文档。

```js title="sidebars.js"
export default {
  docs: [
    {
      type: 'category',
      label: '指南',
      link: {type: 'doc', id: 'introduction'},
      items: ['pages', 'docs', 'blog', 'search'],
    },
  ],
};
```

在 [国际化介绍页面](../../../i18n/i18n-introduction.mdx) 上查看实际效果。

#### 在文档页面中嵌入生成的索引 {#embedding-generated-index-in-doc-page}

你也可以在普通文档页面中嵌入生成的卡片列表，使用 `DocCardList` 组件。它将显示当前文档的父类别的所有侧边栏项目。

```md title="docs/sidebar/index.md"
import DocCardList from '@theme/DocCardList';

<DocCardList />
```

```mdx-code-block
<BrowserWindow>

import DocCardList from '@theme/DocCardList';

<DocCardList />

</BrowserWindow>
```

### 可折叠的分类 {#collapsible-categories}

我们支持展开/折叠分类的选项。分类默认是可折叠的，但可以通过设置 `collapsible: false` 来禁用折叠：

```js title="sidebars.js"
export default {
  docs: [
    {
      type: 'category',
      label: '指南',
      items: [
        'creating-pages',
        {
          type: 'category',
          collapsible: false,
          label: '文档',
          items: ['introduction

', 'sidebar', 'markdown-features', 'versioning'],
        },
      ],
    },
  ],
};
```

要使所有分类默认不可折叠，请在 `plugin-content-docs` 中设置 `sidebarCollapsible` 选项为 `false`：

```js title="docusaurus.config.js"
export default {
  presets: [
    [
      '@docusaurus/preset-classic',
      {
        docs: {
          sidebarCollapsible: false,
        },
      },
    ],
  ],
};
```

:::note

`sidebars.js` 中的选项优先于插件配置，因此可以在全局设置为 `false` 时使某些分类可折叠。

:::

### 默认展开的分类 {#expanded-categories-by-default}

可折叠的分类默认是折叠的。如果你希望它们在第一次渲染时展开，可以将 `collapsed` 设置为 `false`：

```js title="sidebars.js"
export default {
  docs: {
    Guides: [
      'creating-pages',
      {
        type: 'category',
        label: '文档',
        collapsed: false,
        items: ['markdown-features', 'sidebar', 'versioning'],
      },
    ],
  },
};
```

类似于 `collapsible`，你还可以将全局配置 `options.sidebarCollapsed` 设置为 `false`。`sidebars.js` 中的单独 `collapsed` 选项仍将优先于此配置。

```js title="docusaurus.config.js"
export default {
  presets: [
    [
      '@docusaurus/preset-classic',
      {
        docs: {
          sidebarCollapsed: false,
        },
      },
    ],
  ],
};
```

:::warning

当一个分类有 `collapsed: true` 但 `collapsible: false` 时（无论是通过 `sidebars.js` 还是插件配置），后者优先，分类仍然被渲染为展开状态。

:::

## 使用简写 {#using-shorthands}

你可以使用 **简写语法** 更简洁地表达典型的侧边栏项目，几乎不需要自定义。这包括[**文档简写**](#doc-shorthand)和[**分类简写**](#category-shorthand)。

### 文档简写 {#doc-shorthand}

类型为 `doc` 的项目可以简单表示为其 ID 的字符串：

```mdx-code-block
<Tabs>
<TabItem value="长语法">
```

```js title="sidebars.js"
export default {
  sidebar: [
    {
      type: 'doc',
      id: 'myDoc',
    },
  ],
};
```

```mdx-code-block
</TabItem>
<TabItem value="简写">
```

```js title="sidebars.js"
export default {
  sidebar: [
    'myDoc',
  ],
};
```

```mdx-code-block
</TabItem>
</Tabs>
```

因此，可以将上述示例简化为：

```js title="sidebars.js"
export default {
  mySidebar: [
    {
      type: 'category',
      label: '入门指南',
      items: [
        'doc1',
      ],
    },
    {
      type: 'category',
      label: 'Docusaurus',
      items: [
        'doc2',
        'doc3',
      ],
    },
    {
      type: 'link',
      label: '了解更多',
      href: 'https://example.com',
    },
  ],
};
```

### 分类简写 {#category-shorthand}

分类项目可以表示为一个对象，其键是其标签，值是子项目的数组。

```mdx-code-block
<Tabs>
<TabItem value="长语法">
```

```js title="sidebars.js"
export default {
  sidebar: [
    {
      type: 'category',
      label: '入门指南',
      items: ['doc1', 'doc2'],
    },
  ],
};
```

```mdx-code-block
</TabItem>
<TabItem value="简写">
```

```js title="sidebars.js"
export default {
  sidebar: [
    {
      '入门指南': ['doc1', 'doc2'],
    },
  ],
};
```

```mdx-code-block
</TabItem>
</Tabs>
```

这样，我们可以将示例简化为：

```js title="sidebars.js"
export default {
  mySidebar: [
    {
      '入门指南': ['doc1'],
    },
    {
      Docusaurus: ['doc2', 'doc3'],
    },
    {
      type: 'link',
      label: '了解更多',
      href: 'https://example.com',
    },
  ],
};
```

注意，简写对象在转换后将包含确切的一个条目。考虑到进一步简化的示例：

```js title="sidebars.js"
export default {
  mySidebar: [
    {
      '入门指南': ['doc1'],
      Docusaurus: ['doc2', 'doc3'],
    },
    {
      type: 'link',
      label: '了解更多',
      href: 'https://example.com',
    },
  ],
};
```

注意到这两个连续的分类简写被压缩成一个对象，包含两个条目。该语法生成一个 **侧边栏片段**：你不应将该对象视为一个整体项目——这个对象是解包的，每个条目成为单独的项目，并与其余项目（在这种情况下为“了解更多”链接）拼接在一起，形成最终的侧边栏层级。侧边栏片段在讨论 [自动生成的侧边栏](autogenerated.mdx) 时也很重要。

在任何将项目数组简化为一个分类简写的地方，你也可以省略该封闭数组。

```mdx-code-block
<Tabs>
<TabItem value="之前">
```

```js title="sidebars.js"
export default {
  sidebar: [
    {
      '入门指南': ['doc1'],
      Docusaurus: [
        {
          '基础指南': ['doc2', 'doc3'],
          '高级指南': ['doc4', 'doc5'],
        },
      ],
    },
  ],
};
```

```mdx-code-block
</TabItem>
<TabItem value="之后">
```

```js title="sidebars.js"
export default {
  sidebar: {
    '入门指南': ['doc1'],
    Docusaurus: {
      '基础指南': ['doc2', 'doc3'],
      '高级指南': ['doc4', 'doc5'],
    },
  },
};
```

```mdx-code-block
</TabItem>
</Tabs>
```