---
sidebar_position: 11
description: åœ¨å¤šç§é™æ€ç½‘ç«™æ‰˜ç®¡æœåŠ¡ä¸Šéƒ¨ç½²æ‚¨çš„ Docusaurus åº”ç”¨ä»¥ä¾›ç”Ÿäº§ä½¿ç”¨ã€‚
---

# éƒ¨ç½²

è¦ä¸ºç”Ÿäº§æ„å»ºæ‚¨ç½‘ç«™çš„é™æ€æ–‡ä»¶ï¼Œè¯·è¿è¡Œï¼š

```bash
npm run build
```

å®Œæˆåï¼Œé™æ€æ–‡ä»¶å°†åœ¨ `build` ç›®å½•ä¸­ç”Ÿæˆã€‚

:::note

Docusaurus å”¯ä¸€çš„è´£ä»»æ˜¯æ„å»ºæ‚¨çš„ç½‘ç«™å¹¶åœ¨ `build` ä¸­è¾“å‡ºé™æ€æ–‡ä»¶ã€‚

æ¥ä¸‹æ¥ï¼Œæ‚¨éœ€è¦é€‰æ‹©å¦‚ä½•æ‰˜ç®¡è¿™äº›é™æ€æ–‡ä»¶ã€‚

:::

æ‚¨å¯ä»¥å°†ç½‘ç«™éƒ¨ç½²åˆ°é™æ€ç½‘ç«™æ‰˜ç®¡æœåŠ¡ï¼Œä¾‹å¦‚ [Vercel](https://vercel.com/)ã€[GitHub Pages](https://pages.github.com/)ã€[Netlify](https://www.netlify.com/)ã€[Render](https://render.com/docs/static-sites) å’Œ [Surge](https://surge.sh/help/getting-started-with-surge)ã€‚

Docusaurus ç½‘ç«™æ˜¯é™æ€æ¸²æŸ“çš„ï¼Œé€šå¸¸å¯ä»¥åœ¨æ²¡æœ‰ JavaScript çš„æƒ…å†µä¸‹å·¥ä½œï¼

## é…ç½® {#configuration}

åœ¨ `docusaurus.config.js` ä¸­ï¼Œä»¥ä¸‹å‚æ•°æ˜¯å¿…éœ€çš„ï¼Œä»¥ä¼˜åŒ–è·¯ç”±å¹¶ä»æ­£ç¡®ä½ç½®æä¾›æ–‡ä»¶ï¼š

| åç§° | æè¿° |
| --- | --- |
| `url` | æ‚¨ç½‘ç«™çš„ URLã€‚å¯¹äºéƒ¨ç½²åœ¨ `https://my-org.com/my-project/` çš„ç½‘ç«™ï¼Œ`url` æ˜¯ `https://my-org.com/`ã€‚ |
| `baseUrl` | æ‚¨é¡¹ç›®çš„åŸºæœ¬ URLï¼Œéœ€å¸¦æ–œæ ã€‚å¯¹äºéƒ¨ç½²åœ¨ `https://my-org.com/my-project/` çš„ç½‘ç«™ï¼Œ`baseUrl` æ˜¯ `/my-project/`ã€‚ |

## åœ¨æœ¬åœ°æµ‹è¯•æ„å»º {#testing-build-locally}

åœ¨å°†æ„å»ºéƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒä¹‹å‰ï¼Œæµ‹è¯•æœ¬åœ°æ„å»ºæ˜¯å¾ˆé‡è¦çš„ã€‚Docusaurus æä¾›äº†ä¸€ä¸ª [`docusaurus serve`](cli.mdx#docusaurus-serve-sitedir) å‘½ä»¤æ¥å®ç°ï¼š

```bash
npm run serve
```

é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™å°†åŠ è½½æ‚¨çš„ç½‘ç«™äº [`http://localhost:3000/`](http://localhost:3000/)ã€‚

## ç»“å°¾æ–œæ é…ç½® {#trailing-slashes}

Docusaurus æœ‰ä¸€ä¸ª [`trailingSlash` é…ç½®](./api/docusaurus.config.js.mdx#trailingSlash)ï¼Œå…è®¸è‡ªå®šä¹‰ URL/é“¾æ¥å’Œè¾“å‡ºæ–‡ä»¶åæ¨¡å¼ã€‚

é»˜è®¤å€¼é€šå¸¸å·¥ä½œè‰¯å¥½ã€‚ç„¶è€Œï¼Œæ¯ä¸ªé™æ€æ‰˜ç®¡æä¾›å•†çš„**è¡Œä¸ºä¸åŒ**ï¼Œå°†ç›¸åŒçš„ç½‘ç«™éƒ¨ç½²åˆ°ä¸åŒçš„ä¸»æœºå¯èƒ½ä¼šäº§ç”Ÿä¸åŒçš„ç»“æœã€‚æ ¹æ®æ‚¨çš„ä¸»æœºï¼Œä¿®æ”¹æ­¤é…ç½®å¯èƒ½ä¼šå¾ˆæœ‰ç”¨ã€‚

:::tip

ä½¿ç”¨ [slorber/trailing-slash-guide](https://github.com/slorber/trailing-slash-guide) æ›´å¥½åœ°ç†è§£æ‚¨ä¸»æœºçš„è¡Œä¸ºï¼Œå¹¶é€‚å½“é…ç½® `trailingSlash`ã€‚

:::

## ä½¿ç”¨ç¯å¢ƒå˜é‡ {#using-environment-variables}

å°†æ½œåœ¨æ•æ„Ÿä¿¡æ¯æ”¾å…¥ç¯å¢ƒæ˜¯å¸¸è§åšæ³•ã€‚ç„¶è€Œï¼Œåœ¨å…¸å‹çš„ Docusaurus ç½‘ç«™ä¸­ï¼Œ`docusaurus.config.js` æ–‡ä»¶æ˜¯ä¸ Node.js ç¯å¢ƒçš„å”¯ä¸€æ¥å£ï¼ˆå‚è§ [æˆ‘ä»¬çš„æ¶æ„æ¦‚è¿°](advanced/architecture.mdx)ï¼‰ï¼Œè€Œå…¶ä»–å†…å®¹ï¼ˆMDX é¡µé¢ã€React ç»„ä»¶ç­‰ï¼‰éƒ½æ˜¯å®¢æˆ·ç«¯ï¼Œæ²¡æœ‰ç›´æ¥è®¿é—® `process` å…¨å±€å˜é‡ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨å¯ä»¥è€ƒè™‘ä½¿ç”¨ [`customFields`](api/docusaurus.config.js.mdx#customFields) å°†ç¯å¢ƒå˜é‡ä¼ é€’ç»™å®¢æˆ·ç«¯ã€‚

```js title="docusaurus.config.js"
// å¦‚æœæ‚¨ä½¿ç”¨ dotenv (https://www.npmjs.com/package/dotenv)
import 'dotenv/config';

export default {
  title: '...',
  url: process.env.URL, // æ‚¨å¯ä»¥ä½¿ç”¨ç¯å¢ƒå˜é‡æ§åˆ¶ç½‘ç«™ç‰¹æ€§
  // highlight-start
  customFields: {
    // åœ¨è¿™é‡Œæ”¾ç½®æ‚¨çš„è‡ªå®šä¹‰ç¯å¢ƒå˜é‡
    teamEmail: process.env.EMAIL,
  },
  // highlight-end
};
```

```jsx title="home.jsx"
import useDocusaurusContext from '@docusaurus/useDocusaurusContext';

export default function Home() {
  const {
    siteConfig: {customFields},
  } = useDocusaurusContext();
  return <div>é€šè¿‡ {customFields.teamEmail} è”ç³»æˆ‘ä»¬!</div>;
}
```

## é€‰æ‹©æ‰˜ç®¡æœåŠ¡æä¾›å•† {#choosing-a-hosting-provider}

æœ‰å‡ ç§å¸¸è§çš„æ‰˜ç®¡é€‰é¡¹ï¼š

- [è‡ªæ‰˜ç®¡](#self-hosting)ï¼Œä½¿ç”¨åƒ Apache2 æˆ– Nginx çš„ HTTP æœåŠ¡å™¨ã€‚
- Jamstack æä¾›å•†ï¼ˆä¾‹å¦‚ [Netlify](#deploying-to-netlify) å’Œ [Vercel](#deploying-to-vercel)ï¼‰ã€‚æˆ‘ä»¬å°†ä»¥å®ƒä»¬ä¸ºå‚è€ƒï¼Œä½†ç›¸åŒçš„æ¨ç†ä¹Ÿé€‚ç”¨äºå…¶ä»–æä¾›å•†ã€‚
- [GitHub Pages](#deploying-to-github-pages)ï¼ˆä»å®šä¹‰ä¸Šè®²ï¼Œå®ƒä¹Ÿæ˜¯ Jamstackï¼Œä½†æˆ‘ä»¬å•ç‹¬è¿›è¡Œæ¯”è¾ƒï¼‰ã€‚

å¦‚æœæ‚¨ä¸ç¡®å®šé€‰æ‹©å“ªä¸ªï¼Œæ‚¨å¯ä»¥é—®è‡ªå·±ä»¥ä¸‹é—®é¢˜ï¼š

<details>

<summary>
  æˆ‘æ„¿æ„æŠ•å…¥å¤šå°‘èµ„æºï¼ˆèµ„é‡‘ã€äººåŠ›ç­‰ï¼‰ï¼Ÿ
</summary>

- ğŸ”´ è‡ªæ‰˜ç®¡éœ€è¦ç½‘ç»œã€Linux å’Œç½‘ç»œæœåŠ¡å™¨ç®¡ç†æ–¹é¢çš„ç»éªŒã€‚è¿™æ˜¯æœ€å›°éš¾çš„é€‰é¡¹ï¼Œéœ€è¦èŠ±è´¹æœ€å¤šçš„æ—¶é—´æ¥æˆåŠŸç®¡ç†ã€‚ä»è´¹ç”¨ä¸Šè®²ï¼Œäº‘æœåŠ¡å‡ ä¹ä»ä¸å…è´¹ï¼Œè€Œè´­ä¹°/éƒ¨ç½²æœ¬åœ°æœåŠ¡å™¨çš„æˆæœ¬å¯èƒ½æ›´é«˜ã€‚
- ğŸŸ¢ Jamstack æä¾›å•†å¯ä»¥å¸®åŠ©æ‚¨å‡ ä¹åœ¨æ²¡æœ‰æ—¶é—´çš„æƒ…å†µä¸‹æ­å»ºä¸€ä¸ªå·¥ä½œç½‘ç«™ï¼Œå¹¶æä¾›æ˜“äºé…ç½®çš„æœåŠ¡å™¨ç«¯é‡å®šå‘ç­‰åŠŸèƒ½ã€‚è®¸å¤šæä¾›å•†å³ä½¿åœ¨å…è´¹è®¡åˆ’ä¸‹ä¹Ÿæä¾›æ…·æ…¨çš„æ„å»ºæ—¶é—´é…é¢ï¼Œæ‚¨å‡ ä¹ä¸ä¼šè¶…è¿‡è¿™äº›é…é¢ã€‚ç„¶è€Œï¼Œå…è´¹è®¡åˆ’æœ‰ä¸€å®šé™åˆ¶ï¼Œä¸€æ—¦è¾¾åˆ°è¿™äº›é™åˆ¶ï¼Œæ‚¨éœ€è¦ä»˜è´¹ã€‚è¯·æŸ¥çœ‹æä¾›å•†çš„å®šä»·é¡µé¢ä»¥è·å–è¯¦ç»†ä¿¡æ¯ã€‚
- ğŸŸ¡ GitHub Pages éƒ¨ç½²å·¥ä½œæµç¨‹çš„è®¾ç½®å¯èƒ½ä¼šæ¯”è¾ƒç¹çã€‚ï¼ˆè¯æ®ï¼šè¯·æŸ¥çœ‹ [Deploying to GitHub Pages](#deploying-to-github-pages) çš„é•¿åº¦ï¼ï¼‰ä¸è¿‡ï¼Œå¯¹äºå…¬å…±å­˜å‚¨åº“ï¼Œè¿™é¡¹æœåŠ¡ï¼ˆåŒ…æ‹¬æ„å»ºå’Œéƒ¨ç½²ï¼‰å§‹ç»ˆæ˜¯å…è´¹çš„ï¼Œæˆ‘ä»¬æä¾›äº†è¯¦ç»†çš„è¯´æ˜ä»¥å¸®åŠ©æ‚¨ä½¿å…¶æ­£å¸¸å·¥ä½œã€‚

</details>

<details>

<summary>æˆ‘éœ€è¦å¤šå°‘æœåŠ¡å™¨ç«¯è‡ªå®šä¹‰ï¼Ÿ</summary>

- ğŸŸ¢ è‡ªæ‰˜ç®¡å…è®¸æ‚¨è®¿é—®æ•´ä¸ªæœåŠ¡å™¨çš„é…ç½®ã€‚æ‚¨å¯ä»¥æ ¹æ®è¯·æ±‚ URL é…ç½®è™šæ‹Ÿä¸»æœºä»¥æä¾›ä¸åŒçš„å†…å®¹ï¼Œå¯ä»¥è¿›è¡Œå¤æ‚çš„æœåŠ¡å™¨ç«¯é‡å®šå‘ï¼Œå¯ä»¥å®ç°èº«ä»½éªŒè¯ç­‰ç­‰ã€‚å¦‚æœæ‚¨éœ€è¦è®¸å¤šæœåŠ¡å™¨ç«¯åŠŸèƒ½ï¼Œå»ºè®®è‡ªæ‰˜ç®¡æ‚¨çš„ç½‘ç«™ã€‚
- ğŸŸ¡ Jamstack é€šå¸¸æä¾›ä¸€äº›æœåŠ¡å™¨ç«¯é…ç½®ï¼ˆä¾‹å¦‚ URL æ ¼å¼ï¼ˆå°¾éšæ–œæ ï¼‰ã€æœåŠ¡å™¨ç«¯é‡å®šå‘ç­‰ï¼‰ã€‚
- ğŸ”´ GitHub Pages é™¤äº†å¼ºåˆ¶ä½¿ç”¨ HTTPS å’Œè®¾ç½® CNAME è®°å½•å¤–ï¼Œä¸æä¾›æœåŠ¡å™¨ç«¯é…ç½®ã€‚

</details>

<details>

<summary>æˆ‘éœ€è¦åä½œå‹å¥½çš„éƒ¨ç½²å·¥ä½œæµç¨‹å—ï¼Ÿ</summary>

- ğŸŸ¡ è‡ªæ‰˜ç®¡æœåŠ¡å¯ä»¥åˆ©ç”¨åƒ Netlify è¿™æ ·çš„æŒç»­éƒ¨ç½²åŠŸèƒ½ï¼Œä½†æ¶‰åŠæ›´å¤šçš„å·¥ä½œã€‚é€šå¸¸ï¼Œæ‚¨ä¼šæŒ‡å®šä¸€ä¸ªç‰¹å®šçš„äººæ¥ç®¡ç†éƒ¨ç½²ï¼Œå·¥ä½œæµç¨‹ä¸ä¼šåƒå¦å¤–ä¸¤ä¸ªé€‰é¡¹é‚£æ ·åŸºäº gitã€‚
- ğŸŸ¢ Netlify å’Œ Vercel ä¸ºæ¯ä¸ªæ‹‰å–è¯·æ±‚æä¾›éƒ¨ç½²é¢„è§ˆï¼Œè¿™å¯¹å›¢é˜Ÿåœ¨åˆå¹¶åˆ°ç”Ÿäº§ç¯å¢ƒä¹‹å‰å®¡æŸ¥å·¥ä½œéå¸¸æœ‰ç”¨ã€‚æ‚¨è¿˜å¯ä»¥ç®¡ç†å›¢é˜Ÿï¼Œè®©ä¸åŒæˆå‘˜å¯¹éƒ¨ç½²æœ‰ä¸åŒçš„è®¿é—®æƒé™ã€‚
- ğŸŸ¡ GitHub Pages æ— æ³•ä»¥éå¤æ‚çš„æ–¹å¼è¿›è¡Œéƒ¨ç½²é¢„è§ˆã€‚ä¸€ä¸ªä»“åº“åªèƒ½ä¸ä¸€ä¸ªç«™ç‚¹éƒ¨ç½²ç›¸å…³è”ã€‚å¦ä¸€æ–¹é¢ï¼Œæ‚¨å¯ä»¥æ§åˆ¶è°æœ‰å¯¹è¯¥ç«™ç‚¹éƒ¨ç½²çš„å†™å…¥æƒé™ã€‚

</details>

æ²¡æœ‰é“¶å¼¹ã€‚æ‚¨éœ€è¦åœ¨åšå‡ºé€‰æ‹©ä¹‹å‰æƒè¡¡æ‚¨çš„éœ€æ±‚å’Œèµ„æºã€‚

## è‡ªæ‰˜ç®¡ {#self-hosting}

Docusaurus å¯ä»¥é€šè¿‡ [`docusaurus serve`](cli.mdx#docusaurus-serve-sitedir) è¿›è¡Œè‡ªæ‰˜ç®¡ã€‚ä½¿ç”¨ `--port` æ›´æ”¹ç«¯å£ï¼Œä½¿ç”¨ `--host` æ›´æ”¹ä¸»æœºã€‚

```bash npm2yarn
npm run serve -- --build --port 80 --host 0.0.0.0
```

:::warning

ä¸é™æ€æ‰˜ç®¡æä¾›å•†/CDN ç›¸æ¯”ï¼Œè¿™ä¸æ˜¯æœ€ä½³é€‰æ‹©ã€‚

:::

:::warning

åœ¨æ¥ä¸‹æ¥çš„éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»ä¸€äº›å¸¸è§çš„æ‰˜ç®¡æä¾›å•†ä»¥åŠå¦‚ä½•é…ç½®å®ƒä»¬ä»¥æœ€æœ‰æ•ˆåœ°éƒ¨ç½² Docusaurus ç½‘ç«™ã€‚Docusaurus ä¸è¿™äº›æœåŠ¡æ²¡æœ‰å…³è”ï¼Œæä¾›è¿™äº›ä¿¡æ¯ä»…ä¸ºæ–¹ä¾¿ã€‚ä¸€äº›å†™ä½œç”±ç¬¬ä¸‰æ–¹æä¾›ï¼Œæœ€è¿‘çš„ API æ›´æ”¹å¯èƒ½æœªåæ˜ åœ¨æˆ‘ä»¬è¿™è¾¹ã€‚å¦‚æœæ‚¨çœ‹åˆ°è¿‡æ—¶çš„å†…å®¹ï¼Œæ¬¢è¿æäº¤ PRã€‚

å› ä¸ºæˆ‘ä»¬åªèƒ½ä»¥å°½åŠ›è€Œä¸ºçš„æ–¹å¼æä¾›è¿™äº›å†…å®¹ï¼Œæ‰€ä»¥æˆ‘ä»¬å·²åœæ­¢æ¥å—æ·»åŠ æ–°æ‰˜ç®¡é€‰é¡¹çš„ PRã€‚ä¸è¿‡ï¼Œæ‚¨å¯ä»¥åœ¨ä¸€ä¸ªå•ç‹¬çš„ç½‘ç«™ï¼ˆä¾‹å¦‚æ‚¨çš„åšå®¢æˆ–æä¾›å•†çš„å®˜æ–¹ç½‘ç«™ï¼‰ä¸Šå‘å¸ƒæ‚¨çš„å†™ä½œï¼Œå¹¶è¯·æ±‚æˆ‘ä»¬åŒ…å«æ‚¨å†™ä½œçš„é“¾æ¥ã€‚

:::

## éƒ¨ç½²åˆ° Netlify {#deploying-to-netlify}

è¦å°†æ‚¨çš„ Docusaurus ç½‘ç«™éƒ¨ç½²åˆ° [Netlify](https://www.netlify.com/)ï¼Œè¯·é¦–å…ˆç¡®ä¿ä»¥ä¸‹é€‰é¡¹å·²æ­£ç¡®é…ç½®ï¼š

```js title="docusaurus.config.js"
export default {
  // highlight-start
  url: 'https://docusaurus-2.netlify.app', // ç½‘ç«™çš„ URLï¼Œä¸å¸¦å°¾éšæ–œæ 
  baseUrl: '/', // ç›¸å¯¹äºæ‚¨çš„ä»“åº“çš„ç½‘ç«™åŸºç¡€ç›®å½•
  // highlight-end
  // ...
};
```

ç„¶åï¼Œ[åœ¨ Netlify ä¸Šåˆ›å»ºæ‚¨çš„ç½‘ç«™](https://app.netlify.com/start)ã€‚

åœ¨è®¾ç½®ç½‘ç«™æ—¶ï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ–¹å¼æŒ‡å®šæ„å»ºå‘½ä»¤å’Œç›®å½•ï¼š

- æ„å»ºå‘½ä»¤ï¼š`npm run build`
- å‘å¸ƒç›®å½•ï¼š`build`

å¦‚æœæ‚¨æœªé…ç½®è¿™äº›æ„å»ºé€‰é¡¹ï¼Œæ‚¨ä»ç„¶å¯ä»¥åœ¨åˆ›å»ºç½‘ç«™åè®¿é—®â€œç½‘ç«™è®¾ç½®â€->â€œæ„å»ºä¸éƒ¨ç½²â€ã€‚

ä¸€æ—¦ä¸Šè¿°é€‰é¡¹æ­£ç¡®é…ç½®ï¼Œæ‚¨çš„ç½‘ç«™åº”ä¼šéƒ¨ç½²ï¼Œå¹¶åœ¨åˆå¹¶åˆ°æ‚¨çš„éƒ¨ç½²åˆ†æ”¯ï¼ˆé»˜è®¤æ˜¯ `main`ï¼‰æ—¶è‡ªåŠ¨é‡æ–°éƒ¨ç½²ã€‚

:::warning

ä¸€äº› Docusaurus ç½‘ç«™å°† `docs` æ–‡ä»¶å¤¹æ”¾åœ¨ `website` ä¹‹å¤–ï¼ˆå¾ˆå¯èƒ½æ˜¯ä»¥å‰çš„ Docusaurus v1 ç½‘ç«™ï¼‰ï¼š

```bash
repo           # git æ ¹ç›®å½•
â”œâ”€â”€ docs       # MD æ–‡ä»¶
â””â”€â”€ website    # Docusaurus æ ¹ç›®å½•
```

å¦‚æœæ‚¨å†³å®šå°† `website` æ–‡ä»¶å¤¹ç”¨ä½œ Netlify çš„åŸºç¡€ç›®å½•ï¼Œå½“æ‚¨æ›´æ–° `docs` æ–‡ä»¶å¤¹æ—¶ï¼ŒNetlify å°†ä¸ä¼šè§¦å‘æ„å»ºï¼Œæ‚¨éœ€è¦é…ç½®ä¸€ä¸ª [è‡ªå®šä¹‰ `ignore` å‘½ä»¤](https://docs.netlify.com/configure-builds/common-configurations/ignore-builds/)ï¼š

```toml title="website/netlify.toml"
[build]
  ignore = "git diff --quiet $CACHED_COMMIT_REF $COMMIT_REF . ../docs/"
```

:::

:::warning

é»˜è®¤æƒ…å†µä¸‹ï¼ŒNetlify ä¼šåœ¨ Docusaurus URL åæ·»åŠ å°¾éšæ–œæ ã€‚

å»ºè®®ç¦ç”¨ Netlify è®¾ç½®ä¸­çš„ `Post Processing > Asset Optimization > Pretty Urls`ï¼Œä»¥é˜²æ­¢å°å†™ URLã€ä¸å¿…è¦çš„é‡å®šå‘å’Œ 404 é”™è¯¯ã€‚

**è¯·åŠ¡å¿…å°å¿ƒ**ï¼š`ç¦ç”¨èµ„äº§ä¼˜åŒ–` å…¨å±€å¤é€‰æ¡†æ˜¯åçš„ï¼Œå®é™…ä¸Šå¹¶ä¸ä¼šç¦ç”¨ `Pretty URLs` è®¾ç½®ã€‚è¯·ç¡®ä¿å•ç‹¬ **å–æ¶ˆé€‰ä¸­**ã€‚

å¦‚æœæ‚¨å¸Œæœ›ä¿ç•™ `Pretty Urls` çš„ Netlify è®¾ç½®ï¼Œè¯·ç›¸åº”è°ƒæ•´ Docusaurus é…ç½®ä¸­çš„ `trailingSlash`ã€‚

æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è€ƒ [slorber/trailing-slash-guide](https://github.com/slorber/trailing-slash-guide)ã€‚

:::

## éƒ¨ç½²åˆ° Vercel {#deploying-to-vercel}

å°†æ‚¨çš„ Docusaurus é¡¹ç›®éƒ¨ç½²åˆ° [Vercel](https://vercel.com/) å°†ä¸ºæ‚¨æä¾› [å„ç§å¥½å¤„](https://vercel.com/) åœ¨æ€§èƒ½å’Œæ˜“ç”¨æ€§æ–¹é¢ã€‚

è¦é€šè¿‡ [Vercel for Git é›†æˆ](https://vercel.com/docs/concepts/git) éƒ¨ç½²æ‚¨çš„ Docusaurus é¡¹ç›®ï¼Œè¯·ç¡®ä¿å®ƒå·²æ¨é€åˆ° Git ä»“åº“ã€‚

ä½¿ç”¨ [å¯¼å…¥æµç¨‹](https://vercel.com/import/git) å°†é¡¹ç›®å¯¼å…¥åˆ° Vercelã€‚åœ¨å¯¼å…¥è¿‡ç¨‹ä¸­ï¼Œæ‚¨å°†å‘ç°æ‰€æœ‰ç›¸å…³é€‰é¡¹éƒ½å·²ä¸ºæ‚¨é¢„é…ç½®ï¼›ä¸è¿‡ï¼Œæ‚¨å¯ä»¥é€‰æ‹©æ›´æ”¹ä»»ä½•è¿™äº› [é€‰é¡¹](https://vercel.com/docs/build-step#build-&-development-settings)ã€‚

å¯¼å…¥é¡¹ç›®åï¼Œæ‰€æœ‰åç»­æ¨é€åˆ°åˆ†æ”¯å°†ç”Ÿæˆ [é¢„è§ˆéƒ¨ç½²](https://vercel.com/docs/platform/deployments#preview)ï¼Œæ‰€æœ‰å¯¹ [ç”Ÿäº§åˆ†æ”¯](https://vercel.com/docs/git-integrations#production-branch)ï¼ˆé€šå¸¸ä¸º "main" æˆ– "master"ï¼‰çš„æ›´æ”¹å°†å¯¼è‡´ [ç”Ÿäº§éƒ¨ç½²](https://vercel.com/docs/platform/deployments#production)ã€‚

## éƒ¨ç½²åˆ° GitHub Pages {#deploying-to-github-pages}

Docusaurus æä¾›äº†ä¸€ç§ç®€å•çš„æ–¹æ³•æ¥å‘å¸ƒåˆ° [GitHub Pages](https://pages.github.com/)ï¼Œè¿™é¡¹æœåŠ¡åœ¨æ¯ä¸ª GitHub ä»“åº“ä¸­éƒ½æ˜¯å…è´¹çš„ã€‚

### æ¦‚è¿° {#github-pages-overview}

é€šå¸¸ï¼Œå‘å¸ƒè¿‡ç¨‹ä¸­æ¶‰åŠä¸¤ä¸ªä»“åº“ï¼ˆè‡³å°‘ä¸¤ä¸ªåˆ†æ”¯ï¼‰ï¼šåŒ…å«æºæ–‡ä»¶çš„åˆ†æ”¯å’ŒåŒ…å«æ„å»ºè¾“å‡ºä»¥é€šè¿‡ GitHub Pages æä¾›çš„åˆ†æ”¯ã€‚åœ¨ä»¥ä¸‹æ•™ç¨‹ä¸­ï¼Œå®ƒä»¬å°†åˆ†åˆ«è¢«ç§°ä¸º **â€œæºâ€** å’Œ **â€œéƒ¨ç½²â€**ã€‚

æ¯ä¸ª GitHub ä»“åº“éƒ½ä¸ä¸€ä¸ª GitHub Pages æœåŠ¡å…³è”ã€‚å¦‚æœéƒ¨ç½²ä»“åº“åä¸º `my-org/my-project`ï¼ˆå…¶ä¸­ `my-org` æ˜¯ç»„ç»‡åæˆ–ç”¨æˆ·åï¼‰ï¼Œåˆ™éƒ¨ç½²çš„ç½‘ç«™å°†å‡ºç°åœ¨ `https://my-org.github.io/my-project/`ã€‚å¦‚æœéƒ¨ç½²ä»“åº“åä¸º `my-org/my-org.github.io`ï¼ˆç»„ç»‡çš„ GitHub Pages ä»“åº“ï¼‰ï¼Œåˆ™ç½‘ç«™å°†å‡ºç°åœ¨ `https://my-org.github.io/`ã€‚

:::info

å¦‚æœæ‚¨æƒ³ä¸º GitHub Pages ä½¿ç”¨è‡ªå®šä¹‰åŸŸï¼Œè¯·åœ¨ `static` ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ª `CNAME` æ–‡ä»¶ã€‚`static` ç›®å½•ä¸­çš„ä»»ä½•å†…å®¹éƒ½ä¼šè¢«å¤åˆ¶åˆ°éƒ¨ç½²çš„ `build` ç›®å½•çš„æ ¹ç›®å½•ã€‚å½“ä½¿ç”¨è‡ªå®šä¹‰åŸŸæ—¶ï¼Œæ‚¨åº”è¯¥èƒ½å¤Ÿå°† `baseUrl: '/projectName/'` ä¿®æ”¹ä¸º `baseUrl: '/'`ï¼Œå¹¶å°† `url` è®¾ç½®ä¸ºæ‚¨çš„è‡ªå®šä¹‰åŸŸã€‚

æœ‰å…³æ›´å¤šç»†èŠ‚ï¼Œè¯·å‚è€ƒ GitHub Pages çš„æ–‡æ¡£ [ç”¨æˆ·ã€ç»„ç»‡å’Œé¡¹ç›®é¡µé¢](https://help.github.com/en/articles/user-organization-and-project-pages)ã€‚

:::

GitHub Pages ä»é»˜è®¤åˆ†æ”¯ï¼ˆé€šå¸¸æ˜¯ `master` æˆ– `main`ï¼‰æˆ– `gh-pages` åˆ†æ”¯ä¸­è·å–å¯éƒ¨ç½²çš„æ–‡ä»¶ï¼ˆå³ `docusaurus build` çš„è¾“å‡ºï¼‰ï¼Œå¹¶ä¸”å¯ä»¥ä»æ ¹ç›®å½•æˆ– `/docs` æ–‡ä»¶å¤¹ä¸­è·å–ã€‚æ‚¨å¯ä»¥é€šè¿‡ä»“åº“ä¸­çš„ `Settings > Pages` è¿›è¡Œé…ç½®ã€‚è¿™ä¸ªåˆ†æ”¯å°†è¢«ç§°ä¸ºâ€œéƒ¨ç½²åˆ†æ”¯â€ã€‚

æˆ‘ä»¬æä¾›äº†ä¸€ä¸ª `docusaurus deploy` å‘½ä»¤ï¼Œå¯ä»¥å¸®åŠ©æ‚¨é€šè¿‡ä¸€ä¸ªå‘½ä»¤å°†ç½‘ç«™ä»æºåˆ†æ”¯éƒ¨ç½²åˆ°éƒ¨ç½²åˆ†æ”¯ï¼šå…‹éš†ã€æ„å»ºå’Œæäº¤ã€‚

### `docusaurus.config.js` è®¾ç½® {#docusaurusconfigjs-settings}

é¦–å…ˆï¼Œä¿®æ”¹æ‚¨çš„ `docusaurus.config.js` æ–‡ä»¶å¹¶æ·»åŠ ä»¥ä¸‹å‚æ•°ï¼š

| åç§° | æè¿° |
| --- | --- |
| `organizationName` | æ‹¥æœ‰éƒ¨ç½²ä»“åº“çš„ GitHub ç”¨æˆ·æˆ–ç»„ç»‡ã€‚ |
| `projectName` | éƒ¨ç½²ä»“åº“çš„åç§°ã€‚ |
| `deploymentBranch` | éƒ¨ç½²åˆ†æ”¯çš„åç§°ã€‚å¯¹äºéç»„ç»‡çš„ GitHub Pages ä»“åº“ï¼ˆ`projectName` ä¸ä»¥ `.github.io` ç»“å°¾ï¼‰ï¼Œé»˜è®¤ä¸º `'gh-pages'`ã€‚å¦åˆ™ï¼Œå¿…é¡»åœ¨é…ç½®å­—æ®µæˆ–ç¯å¢ƒå˜é‡ä¸­æ˜ç¡®æŒ‡å®šã€‚ |

è¿™äº›å­—æ®µä¹Ÿæœ‰å…¶ç¯å¢ƒå˜é‡å¯¹åº”é¡¹ï¼Œä¼˜å…ˆçº§æ›´é«˜ï¼š`ORGANIZATION_NAME`ã€`PROJECT_NAME` å’Œ `DEPLOYMENT_BRANCH`ã€‚

:::warning

GitHub Pages é»˜è®¤åœ¨ Docusaurus URL åæ·»åŠ æ–œæ ã€‚å»ºè®®è®¾ç½® `trailingSlash` é…ç½®ï¼ˆ`true` æˆ– `false`ï¼Œè€Œä¸æ˜¯ `undefined`ï¼‰ã€‚

:::

ç¤ºä¾‹ï¼š

```js title="docusaurus.config.js"
export default {
  // ...
  url: 'https://endiliey.github.io', // æ‚¨çš„ç½‘ç«™ URL
  baseUrl: '/',
  // highlight-start
  projectName: 'endiliey.github.io',
  organizationName: 'endiliey',
  trailingSlash: false,
  // highlight-end
  // ...
};
```

:::warning

é»˜è®¤æƒ…å†µä¸‹ï¼ŒGitHub Pages ä¼šé€šè¿‡ [Jekyll](https://jekyllrb.com/) å¤„ç†å‘å¸ƒæ–‡ä»¶ã€‚ç”±äº Jekyll ä¼šä¸¢å¼ƒä»¥ `_` å¼€å¤´çš„ä»»ä½•æ–‡ä»¶ï¼Œå› æ­¤å»ºè®®åœ¨ `static` ç›®å½•ä¸­æ·»åŠ ä¸€ä¸ªåä¸º `.nojekyll` çš„ç©ºæ–‡ä»¶ä»¥ç¦ç”¨ Jekyllã€‚

:::

### ç¯å¢ƒè®¾ç½® {#environment-settings}

| åç§° | æè¿° |
| --- | --- |
| `USE_SSH` | è®¾ç½®ä¸º `true` ä»¥ä½¿ç”¨ SSH è€Œä¸æ˜¯é»˜è®¤çš„ HTTPS è¿æ¥åˆ° GitHub ä»“åº“ã€‚å¦‚æœæºä»“åº“ URL æ˜¯ SSH URLï¼ˆä¾‹å¦‚ `git@github.com:facebook/docusaurus.git`ï¼‰ï¼Œåˆ™æ¨æ–­ `USE_SSH` ä¸º `true`ã€‚ |
| `GIT_USER` | å…·æœ‰å¯¹éƒ¨ç½²ä»“åº“çš„æ¨é€è®¿é—®æƒé™çš„ GitHub è´¦æˆ·çš„ç”¨æˆ·åã€‚å¯¹äºæ‚¨è‡ªå·±çš„ä»“åº“ï¼Œè¿™é€šå¸¸æ˜¯æ‚¨çš„ GitHub ç”¨æˆ·åã€‚å¦‚æœä¸ä½¿ç”¨ SSHï¼Œå¿…å¡«ï¼›å¦åˆ™å¿½ç•¥ã€‚ |
| `GIT_PASS` | Git ç”¨æˆ·ï¼ˆç”± `GIT_USER` æŒ‡å®šï¼‰çš„ä¸ªäººè®¿é—®ä»¤ç‰Œï¼Œç”¨äºå®ç°éäº¤äº’å¼éƒ¨ç½²ï¼ˆä¾‹å¦‚ï¼ŒæŒç»­éƒ¨ç½²ï¼‰ã€‚ |
| `CURRENT_BRANCH` | æºåˆ†æ”¯ã€‚é€šå¸¸ï¼Œè¯¥åˆ†æ”¯å°†æ˜¯ `main` æˆ– `master`ï¼Œä½†å¯ä»¥æ˜¯é™¤äº† `gh-pages` ä¹‹å¤–çš„ä»»ä½•åˆ†æ”¯ã€‚å¦‚æœæœªä¸ºè¯¥å˜é‡è®¾ç½®ä»»ä½•å€¼ï¼Œåˆ™å°†ä½¿ç”¨ä»ä¸­è°ƒç”¨ `docusaurus deploy` çš„å½“å‰åˆ†æ”¯ã€‚ |
| `GIT_USER_NAME` | æ¨é€åˆ°éƒ¨ç½²ä»“åº“æ—¶ä½¿ç”¨çš„ `git config user.name` å€¼ã€‚ |
| `GIT_USER_EMAIL` | æ¨é€åˆ°éƒ¨ç½²ä»“åº“æ—¶ä½¿ç”¨çš„ `git config user.email` å€¼ã€‚ |

GitHub ä¼ä¸šå®‰è£…åº”ä¸ github.com çš„å·¥ä½œæ–¹å¼ç›¸åŒï¼›æ‚¨åªéœ€å°†ç»„ç»‡çš„ GitHub ä¼ä¸šä¸»æœºè®¾ç½®ä¸ºç¯å¢ƒå˜é‡ï¼š

| åç§°          | æè¿°                                     |
| ------------- | ---------------------------------------- |
| `GITHUB_HOST` | æ‚¨çš„ GitHub ä¼ä¸šç«™ç‚¹çš„åŸŸåã€‚           |
| `GITHUB_PORT` | æ‚¨çš„ GitHub ä¼ä¸šç«™ç‚¹çš„ç«¯å£ã€‚            |

### éƒ¨ç½² {#deploy}

æœ€åï¼Œè¦å°†æ‚¨çš„ç½‘ç«™éƒ¨ç½²åˆ° GitHub Pagesï¼Œè¯·è¿è¡Œï¼š

```mdx-code-block
<Tabs>
<TabItem value="bash" label="Bash">
```

```bash
GIT_USER=<GITHUB_USERNAME> yarn deploy
```

```mdx-code-block
</TabItem>
<TabItem value="windows" label="Windows">
```

```batch
cmd /C "set "GIT_USER=<GITHUB_USERNAME>" && yarn deploy"
```

```mdx-code-block
</TabItem>
<TabItem value="powershell" label="PowerShell">
```

```powershell
cmd /C 'set "GIT_USER=<GITHUB_USERNAME>" && yarn deploy'
```

```mdx-code-block
</TabItem>
</Tabs>
```

:::warning

è‡ª 2021 å¹´ 8 æœˆèµ·ï¼ŒGitHub è¦æ±‚æ‰€æœ‰å‘½ä»¤è¡Œç™»å½•ä½¿ç”¨ **ä¸ªäººè®¿é—®ä»¤ç‰Œ** è€Œä¸æ˜¯å¯†ç ã€‚å½“ GitHub æç¤ºè¾“å…¥å¯†ç æ—¶ï¼Œè¯·è¾“å…¥ PATã€‚æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… [GitHub æ–‡æ¡£](https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token)ã€‚

æˆ–è€…ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ SSHï¼ˆ`USE_SSH=true`ï¼‰è¿›è¡Œç™»å½•ã€‚

:::

### ä½¿ç”¨ GitHub Actions è§¦å‘éƒ¨ç½² {#triggering-deployment-with-github-actions}

[GitHub Actions](https://help.github.com/en/actions) å…è®¸æ‚¨è‡ªåŠ¨åŒ–ã€è‡ªå®šä¹‰å¹¶æ‰§è¡Œè½¯ä»¶å¼€å‘å·¥ä½œæµç¨‹ï¼Œç›´æ¥åœ¨æ‚¨çš„ä»“åº“ä¸­ã€‚

ä¸‹é¢çš„å·¥ä½œæµç¤ºä¾‹å‡è®¾æ‚¨çš„ç½‘ç«™æºä»£ç ä½äºä»“åº“çš„ `main` åˆ†æ”¯ï¼ˆæºåˆ†æ”¯ä¸º `main`ï¼‰ï¼Œå¹¶ä¸”å·²é…ç½®ç”¨äº [ä½¿ç”¨è‡ªå®šä¹‰ GitHub Actions å·¥ä½œæµè¿›è¡Œå‘å¸ƒ](https://docs.github.com/en/pages/getting-started-with-github-pages/configuring-a-publishing-source-for-your-github-pages-site#publishing-with-a-custom-github-actions-workflow)ã€‚

æˆ‘ä»¬çš„ç›®æ ‡æ˜¯ï¼š

1. å½“å‘ `main` æäº¤æ–°çš„æ‹‰å–è¯·æ±‚æ—¶ï¼Œæœ‰ä¸€ä¸ªæ“ä½œç¡®ä¿ç½‘ç«™æˆåŠŸæ„å»ºï¼Œä½†ä¸å®é™…éƒ¨ç½²ã€‚æ­¤ä»»åŠ¡å°†ç§°ä¸º `test-deploy`ã€‚
2. å½“å°†æ‹‰å–è¯·æ±‚åˆå¹¶åˆ° `main` åˆ†æ”¯æˆ–æœ‰äººç›´æ¥æ¨é€åˆ° `main` åˆ†æ”¯æ—¶ï¼Œå°†æ„å»ºå¹¶éƒ¨ç½²åˆ° GitHub Pagesã€‚æ­¤ä»»åŠ¡å°†ç§°ä¸º `deploy`ã€‚

è¿™é‡Œæœ‰ä¸¤ç§ä½¿ç”¨ GitHub Actions éƒ¨ç½²æ–‡æ¡£çš„æ–¹æ³•ã€‚æ ¹æ®æ‚¨çš„éƒ¨ç½²ä»“åº“çš„ä½ç½®ï¼Œé€‰æ‹©ä¸‹é¢ç›¸å…³çš„é€‰é¡¹å¡ï¼š

- æºä»“åº“å’Œéƒ¨ç½²ä»“åº“æ˜¯ **åŒä¸€ä¸ª** ä»“åº“ã€‚
- éƒ¨ç½²ä»“åº“æ˜¯ **è¿œç¨‹** ä»“åº“ï¼Œä¸æºä»“åº“ä¸åŒã€‚æ­¤åœºæ™¯çš„è¯´æ˜å‡è®¾ [å‘å¸ƒæº](https://help.github.com/en/github/working-with-github-pages/configuring-a-publishing-source-for-your-github-pages-site) æ˜¯ `gh-pages` åˆ†æ”¯ã€‚

```mdx-code-block
<Tabs>
<TabItem value="same" label="Same">
```

è™½ç„¶æ‚¨å¯ä»¥åœ¨åŒä¸€å·¥ä½œæµæ–‡ä»¶ä¸­å®šä¹‰ä¸¤ä¸ªä»»åŠ¡ï¼Œä½†åŸå§‹çš„ `deploy` å·¥ä½œæµåœ¨ PR æ£€æŸ¥çŠ¶æ€ä¸­å°†å§‹ç»ˆåˆ—ä¸ºè·³è¿‡ï¼Œè¿™å¹¶ä¸èƒ½çœŸå®åæ˜ å®é™…çŠ¶æ€ï¼Œä¹Ÿå¯¹å®¡æ ¸è¿‡ç¨‹æ²¡æœ‰ä»·å€¼ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å»ºè®®å°†å®ƒä»¬ä½œä¸ºç‹¬ç«‹çš„å·¥ä½œæµè¿›è¡Œç®¡ç†ã€‚

<details>
<summary>GitHub Action æ–‡ä»¶</summary>

æ·»åŠ è¿™ä¸¤ä¸ªå·¥ä½œæµæ–‡ä»¶ï¼š

:::warning æ ¹æ®æ‚¨çš„è®¾ç½®è°ƒæ•´å‚æ•°

è¿™äº›æ–‡ä»¶å‡è®¾æ‚¨ä½¿ç”¨çš„æ˜¯ Yarnã€‚å¦‚æœæ‚¨ä½¿ç”¨ npmï¼Œè¯·å°† `cache: yarn`ã€`yarn install --frozen-lockfile`ã€`yarn build` æ›´æ”¹ä¸º `cache: npm`ã€`npm ci`ã€`npm run build`ã€‚

å¦‚æœæ‚¨çš„ Docusaurus é¡¹ç›®ä¸åœ¨ä»“åº“æ ¹ç›®å½•ï¼Œæ‚¨å¯èƒ½éœ€è¦é…ç½® [é»˜è®¤å·¥ä½œç›®å½•](https://docs.github.com/en/actions

/using-workflows/workflow-syntax-for-github-actions#example-set-the-default-shell-and-working-directory)ï¼Œå¹¶ç›¸åº”è°ƒæ•´è·¯å¾„ã€‚

:::

```yml title=".github/workflows/deploy.yml"
name: Deploy to GitHub Pages

on:
  push:
    branches:
      - main
    # å¦‚æœæ‚¨æƒ³è¿›ä¸€æ­¥å®šä¹‰è§¦å‘å™¨ã€è·¯å¾„ç­‰ï¼Œè¯·æŸ¥çœ‹ gh actions æ–‡æ¡£
    # https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions#on

jobs:
  build:
    name: Build Docusaurus
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
        with:
          fetch-depth: 0
      - uses: actions/setup-node@v4
        with:
          node-version: 18
          cache: yarn

      - name: Install dependencies
        run: yarn install --frozen-lockfile
      - name: Build website
        run: yarn build

      - name: Upload Build Artifact
        uses: actions/upload-pages-artifact@v3
        with:
          path: build

  deploy:
    name: Deploy to GitHub Pages
    needs: build

    # æˆäºˆ GITHUB_TOKEN æ‰€éœ€çš„æƒé™ä»¥è¿›è¡Œ Pages éƒ¨ç½²
    permissions:
      pages: write # éƒ¨ç½²åˆ° Pages
      id-token: write # éªŒè¯éƒ¨ç½²æ¥è‡ªé€‚å½“çš„æ¥æº

    # éƒ¨ç½²åˆ° github-pages ç¯å¢ƒ
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}

    runs-on: ubuntu-latest
    steps:
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4
```

```yml title=".github/workflows/test-deploy.yml"
name: Test deployment

on:
  pull_request:
    branches:
      - main
    # å¦‚æœæ‚¨æƒ³è¿›ä¸€æ­¥å®šä¹‰è§¦å‘å™¨ã€è·¯å¾„ç­‰ï¼Œè¯·æŸ¥çœ‹ gh actions æ–‡æ¡£
    # https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions#on

jobs:
  test-deploy:
    name: Test deployment
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
        with:
          fetch-depth: 0
      - uses: actions/setup-node@v4
        with:
          node-version: 18
          cache: yarn

      - name: Install dependencies
        run: yarn install --frozen-lockfile
      - name: Test build website
        run: yarn build
```

</details>

```mdx-code-block
</TabItem>
<TabItem value="remote" label="Remote">
```

è·¨ä»“åº“å‘å¸ƒçš„è®¾ç½®æ›´ä¸ºå¤æ‚ï¼Œå› ä¸ºæ‚¨éœ€è¦æ¨é€åˆ°å¦ä¸€ä¸ªä»“åº“å¹¶è¿›è¡Œæƒé™æ£€æŸ¥ã€‚æˆ‘ä»¬å°†ä½¿ç”¨ SSH è¿›è¡Œèº«ä»½éªŒè¯ã€‚

1. ç”Ÿæˆä¸€ä¸ªæ–°çš„ [SSH å¯†é’¥](https://help.github.com/en/github/authenticating-to-github/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent)ã€‚ç”±äºæ­¤ SSH å¯†é’¥å°†åœ¨ CI ä¸­ä½¿ç”¨ï¼Œè¯·ç¡®ä¿ä¸è¾“å…¥ä»»ä½•å¯†ç ã€‚
2. é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‚¨çš„å…¬é’¥åº”å·²åœ¨ `~/.ssh/id_rsa.pub` ä¸­åˆ›å»ºï¼›å¦‚æœæ²¡æœ‰ï¼Œè¯·ä½¿ç”¨æ‚¨åœ¨å‰ä¸€æ­¥ä¸­æä¾›çš„åç§°å°†å¯†é’¥æ·»åŠ åˆ° [GitHub éƒ¨ç½²å¯†é’¥](https://developer.github.com/v3/guides/managing-deploy-keys/)ã€‚
3. ä½¿ç”¨ `pbcopy < ~/.ssh/id_rsa.pub` å°†å¯†é’¥å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼Œå¹¶å°†å…¶ç²˜è´´ä¸ºéƒ¨ç½²ä»“åº“ä¸­çš„ [éƒ¨ç½²å¯†é’¥](https://developer.github.com/v3/guides/managing-deploy-keys/#deploy-keys)ã€‚å¦‚æœå‘½ä»¤è¡Œæ— æ³•å·¥ä½œï¼Œè¯·å¤åˆ¶æ–‡ä»¶å†…å®¹ã€‚ä¿å­˜éƒ¨ç½²å¯†é’¥æ—¶ï¼Œç¡®ä¿é€‰ä¸­â€œå…è®¸å†™å…¥è®¿é—®â€é€‰é¡¹ã€‚
4. æ‚¨éœ€è¦å°†ç§é’¥ä½œä¸º [GitHub ç§˜å¯†](https://help.github.com/en/actions/configuring-and-managing-workflows/creating-and-storing-encrypted-secrets) æ·»åŠ ï¼Œä»¥å…è®¸ Docusaurus ä¸ºæ‚¨è¿è¡Œéƒ¨ç½²ã€‚
5. ä½¿ç”¨ `pbcopy < ~/.ssh/id_rsa` å¤åˆ¶ç§é’¥ï¼Œå¹¶åœ¨æºä»“åº“ä¸­ç²˜è´´åä¸º `GH_PAGES_DEPLOY` çš„ GitHub ç§˜å¯†ã€‚å¦‚æœå‘½ä»¤è¡Œæ— æ³•å·¥ä½œï¼Œè¯·å¤åˆ¶æ–‡ä»¶å†…å®¹ã€‚ä¿å­˜æ‚¨çš„ç§˜å¯†ã€‚
6. åœ¨ `.github/workflows/` ç›®å½•ä¸­åˆ›å»ºæ‚¨çš„ [æ–‡æ¡£å·¥ä½œæµ](https://docs.github.com/en/actions/use-cases-and-examples/creating-an-example-workflow)ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå®ƒæ˜¯ `deploy.yml` æ–‡ä»¶ã€‚

æ­¤æ—¶ï¼Œæ‚¨åº”å…·å¤‡ï¼š

- é…ç½®äº† GitHub å·¥ä½œæµçš„æºä»“åº“ï¼Œç§é’¥ä½œä¸º GitHub Secretï¼Œå’Œ
- å°†å…¬é’¥è®¾ç½®ä¸º GitHub éƒ¨ç½²å¯†é’¥çš„éƒ¨ç½²ä»“åº“ã€‚

<details>

<summary>GitHub Action æ–‡ä»¶</summary>

:::warning

è¯·ç¡®ä¿å°† `actions@github.com` æ›¿æ¢ä¸ºæ‚¨çš„ GitHub é‚®ç®±ï¼Œå°† `gh-actions` æ›¿æ¢ä¸ºæ‚¨çš„å§“åã€‚

æ­¤æ–‡ä»¶å‡è®¾æ‚¨ä½¿ç”¨çš„æ˜¯ Yarnã€‚å¦‚æœæ‚¨ä½¿ç”¨ npmï¼Œè¯·å°† `cache: yarn`ã€`yarn install --frozen-lockfile`ã€`yarn build` æ›´æ”¹ä¸º `cache: npm`ã€`npm ci`ã€`npm run build`ã€‚

:::

```yml title=".github/workflows/deploy.yml"
name: Deploy to GitHub Pages

on:
  pull_request:
    branches: [main]
  push:
    branches: [main]

permissions:
  contents: write

jobs:
  test-deploy:
    if: github.event_name != 'push'
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
        with:
          fetch-depth: 0
      - uses: actions/setup-node@v4
        with:
          node-version: 18
          cache: yarn
      - name: Install dependencies
        run: yarn install --frozen-lockfile
      - name: Test build website
        run: yarn build
  deploy:
    if: github.event_name != 'pull_request'
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
        with:
          fetch-depth: 0
      - uses: actions/setup-node@v4
        with:
          node-version: 18
          cache: yarn
      - uses: webfactory/ssh-agent@v0.5.0
        with:
          ssh-private-key: ${{ secrets.GH_PAGES_DEPLOY }}
      - name: Deploy to GitHub Pages
        env:
          USE_SSH: true
        run: |
          git config --global user.email "actions@github.com"
          git config --global user.name "gh-actions"
          yarn install --frozen-lockfile
          yarn deploy
```

</details>

```mdx-code-block
</TabItem>
</Tabs>
```

<details>

<summary>ç½‘ç«™æœªæ­£ç¡®éƒ¨ç½²ï¼Ÿ</summary>

åœ¨å‘ä¸»åˆ†æ”¯æ¨é€åï¼Œå¦‚æœæ‚¨æ²¡æœ‰åœ¨æœŸæœ›çš„ä½ç½®çœ‹åˆ°æ‚¨çš„ç½‘ç«™å‘å¸ƒï¼ˆä¾‹å¦‚ï¼Œæ˜¾ç¤ºâ€œæ­¤å¤„æ²¡æœ‰ GitHub Pages ç½‘ç«™â€æˆ–æ˜¾ç¤ºæ‚¨çš„ä»“åº“ README.md æ–‡ä»¶ï¼‰ï¼Œè¯·å°è¯•ä»¥ä¸‹æ“ä½œï¼š

- ç­‰å¾…å¤§çº¦ä¸‰åˆ†é’Ÿå¹¶åˆ·æ–°ã€‚GitHub Pages å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿæ‰èƒ½æ£€æµ‹åˆ°æ–°æ–‡ä»¶ã€‚
- æ£€æŸ¥æ‚¨ä»“åº“çš„ç™»å½•é¡µé¢ï¼Œçœ‹çœ‹æœ€åä¸€æ¬¡æäº¤çš„æ ‡é¢˜æ—è¾¹æ˜¯å¦æœ‰ä¸€ä¸ªç»¿è‰²å‹¾ï¼Œè¿™è¡¨æ˜ CI å·²é€šè¿‡ã€‚å¦‚æœçœ‹åˆ°ä¸€ä¸ªå‰ï¼Œè¡¨ç¤ºæ„å»ºæˆ–éƒ¨ç½²å¤±è´¥ï¼Œæ‚¨åº”æ£€æŸ¥æ—¥å¿—ä»¥è·å–æ›´å¤šè°ƒè¯•ä¿¡æ¯ã€‚
- ç‚¹å‡»å‹¾å·ï¼Œç¡®ä¿æ‚¨çœ‹åˆ°â€œéƒ¨ç½²åˆ° GitHub Pagesâ€çš„å·¥ä½œæµã€‚åƒâ€œpages build and deployment / deployâ€è¿™æ ·çš„åç§°æ˜¯ GitHub çš„é»˜è®¤å·¥ä½œæµï¼Œè¡¨ç¤ºæ‚¨çš„è‡ªå®šä¹‰éƒ¨ç½²å·¥ä½œæµæœªèƒ½è¢«è§¦å‘ã€‚ç¡®ä¿ YAML æ–‡ä»¶æ”¾ç½®åœ¨ `.github/workflows` æ–‡ä»¶å¤¹ä¸‹ï¼Œå¹¶ä¸”è§¦å‘æ¡ä»¶è®¾ç½®æ­£ç¡®ï¼ˆä¾‹å¦‚ï¼Œå¦‚æœæ‚¨çš„é»˜è®¤åˆ†æ”¯æ˜¯â€œmasterâ€è€Œä¸æ˜¯â€œmainâ€ï¼Œåˆ™éœ€è¦æ›´æ”¹ `on.push` å±æ€§ï¼‰ã€‚
- åœ¨æ‚¨ä»“åº“çš„è®¾ç½® > é¡µé¢ä¸­ï¼Œç¡®ä¿â€œæºâ€ï¼ˆå³éƒ¨ç½²æ–‡ä»¶çš„æºï¼Œè€Œä¸æ˜¯æˆ‘ä»¬æœ¯è¯­ä¸­çš„â€œæºâ€ï¼‰è®¾ç½®ä¸ºâ€œgh-pagesâ€ + â€œ/ (root)â€ï¼Œå› ä¸ºæˆ‘ä»¬ä½¿ç”¨ `gh-pages` ä½œä¸ºéƒ¨ç½²åˆ†æ”¯ã€‚

å¦‚æœæ‚¨ä½¿ç”¨è‡ªå®šä¹‰åŸŸï¼š

- éªŒè¯å¦‚æœæ‚¨æ­£åœ¨ä½¿ç”¨è‡ªå®šä¹‰åŸŸï¼Œæ˜¯å¦å·²è®¾ç½®æ­£ç¡®çš„ DNS è®°å½•ã€‚è¯·å‚é˜… [GitHub Pages æ–‡æ¡£å…³äºé…ç½®è‡ªå®šä¹‰åŸŸ](https://docs.github.com/en/pages/configuring-a-custom-domain-for-your-github-pages-site/about-custom-domains-and-github-pages)ã€‚æ­¤å¤–ï¼Œè¯·æ³¨æ„ï¼ŒDNS æ›´æ”¹å¯èƒ½éœ€è¦æœ€å¤š 24 å°æ—¶æ‰èƒ½åœ¨äº’è”ç½‘ä¸Šä¼ æ’­ã€‚

</details>

### ä½¿ç”¨ Travis CI è§¦å‘éƒ¨ç½² {#triggering-deployment-with-travis-ci}

æŒç»­é›†æˆ (CI) æœåŠ¡é€šå¸¸ç”¨äºåœ¨æ–°çš„æäº¤è¢«æ£€å…¥æºä»£ç æ§åˆ¶æ—¶æ‰§è¡Œå¸¸è§„ä»»åŠ¡ã€‚è¿™äº›ä»»åŠ¡å¯ä»¥æ˜¯è¿è¡Œå•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•ã€è‡ªåŠ¨åŒ–æ„å»ºã€å‘å¸ƒ npm åŒ…ä»¥åŠå°†æ›´æ”¹éƒ¨ç½²åˆ°æ‚¨çš„ç½‘ç«™ã€‚è¦è‡ªåŠ¨åŒ–ç½‘ç«™çš„éƒ¨ç½²ï¼Œæ‚¨åªéœ€åœ¨æ¯æ¬¡æ›´æ–°ç½‘ç«™æ—¶è°ƒç”¨ `yarn deploy` è„šæœ¬ã€‚ä»¥ä¸‹éƒ¨åˆ†å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨æµè¡Œçš„æŒç»­é›†æˆæœåŠ¡æä¾›å•† [Travis CI](https://travis-ci.com/) å®ç°è¿™ä¸€ç‚¹ã€‚

1. å‰å¾€ https://github.com/settings/tokens å¹¶ç”Ÿæˆä¸€ä¸ªæ–°çš„ [ä¸ªäººè®¿é—®ä»¤ç‰Œ](https://help.github.com/articles/creating-a-personal-access-token-for-the-command-line/)ã€‚åˆ›å»ºä»¤ç‰Œæ—¶ï¼Œæˆäºˆå…¶ `repo` èŒƒå›´ï¼Œä»¥ä¾¿å®ƒæ‹¥æœ‰æ‰€éœ€çš„æƒé™ã€‚
2. ä½¿ç”¨æ‚¨çš„ GitHub è´¦æˆ·ï¼Œ[å°† Travis CI åº”ç”¨æ·»åŠ ](https://github.com/marketplace/travis-ci)åˆ°æ‚¨æƒ³è¦æ¿€æ´»çš„ä»“åº“ã€‚
3. æ‰“å¼€æ‚¨çš„ Travis CI ä»ªè¡¨æ¿ã€‚URL çœ‹èµ·æ¥åƒ `https://travis-ci.com/USERNAME/REPO`ï¼Œå¹¶å¯¼èˆªåˆ°æ‚¨ä»“åº“çš„ `More options > Setting > Environment Variables` éƒ¨åˆ†ã€‚
4. åˆ›å»ºä¸€ä¸ªåä¸º `GH_TOKEN` çš„æ–°ç¯å¢ƒå˜é‡ï¼Œå€¼ä¸ºæ‚¨æ–°ç”Ÿæˆçš„ä»¤ç‰Œï¼Œç„¶ååˆ†åˆ«åˆ›å»º `GH_EMAIL`ï¼ˆæ‚¨çš„ç”µå­é‚®ä»¶åœ°å€ï¼‰å’Œ `GH_NAME`ï¼ˆæ‚¨çš„ GitHub ç”¨æˆ·åï¼‰ã€‚
5. åœ¨æ‚¨çš„ä»“åº“æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª `.travis.yml` æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š

```yml title=".travis.yml"
language: node_js
node_js:
  - 18
branches:
  only:
    - main
cache:
  yarn: true
script:
  - git config --global user.name "${GH_NAME}"
  - git config --global user.email "${GH_EMAIL}"
  - echo "machine github.com login ${GH_NAME} password ${GH_TOKEN}" > ~/.netrc
  - yarn install
  - GIT_USER="${GH_NAME}" yarn deploy
```

ç°åœ¨ï¼Œæ¯å½“æœ‰æ–°çš„æäº¤æ¨é€åˆ° `main` åˆ†æ”¯æ—¶ï¼ŒTravis CI å°†è¿è¡Œæ‚¨çš„æµ‹è¯•å¥—ä»¶ï¼Œå¦‚æœä¸€åˆ‡é€šè¿‡ï¼Œæ‚¨çš„ç½‘ç«™å°†é€šè¿‡ `yarn deploy` è„šæœ¬è¿›è¡Œéƒ¨ç½²ã€‚

### ä½¿ç”¨ Buddy è§¦å‘éƒ¨ç½² {#triggering-deployment-with-buddy}

[Buddy](https://buddy.works/) æ˜¯ä¸€ä¸ªæ˜“äºä½¿ç”¨çš„ CI/CD å·¥å…·ï¼Œå¯ä»¥è‡ªåŠ¨åŒ–å°†æ‚¨çš„é—¨æˆ·éƒ¨ç½²åˆ°ä¸åŒç¯å¢ƒï¼ŒåŒ…æ‹¬ GitHub Pagesã€‚

æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤åˆ›å»ºä¸€ä¸ªç®¡é“ï¼Œæ¯å½“æ‚¨å°†æ›´æ”¹æ¨é€åˆ°é¡¹ç›®çš„é€‰å®šåˆ†æ”¯æ—¶ï¼Œè‡ªåŠ¨éƒ¨ç½²ç½‘ç«™çš„æ–°ç‰ˆæœ¬ï¼š

1. å‰å¾€ https://github.com/settings/tokens å¹¶ç”Ÿæˆä¸€ä¸ªæ–°çš„ [ä¸ªäººè®¿é—®ä»¤ç‰Œ](https://help.github.com/articles/creating-a-personal-access-token-for-the-command-line/)ã€‚åˆ›å»ºä»¤ç‰Œæ—¶ï¼Œæˆäºˆå…¶ `repo` èŒƒå›´ï¼Œä»¥ä¾¿å®ƒæ‹¥æœ‰æ‰€éœ€çš„æƒé™ã€‚
2. ç™»å½•åˆ°æ‚¨çš„ Buddy è´¦æˆ·å¹¶åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®ã€‚
3. é€‰æ‹© GitHub ä½œä¸ºæ‚¨çš„ Git æ‰˜ç®¡æä¾›å•†ï¼Œå¹¶é€‰æ‹©åŒ…å«æ‚¨ç½‘ç«™ä»£ç çš„ä»“åº“ã€‚
4. åœ¨å·¦ä¾§å¯¼èˆªé¢æ¿ä¸­ï¼Œåˆ‡æ¢åˆ° `Pipelines` è§†å›¾ã€‚
5. åˆ›å»ºä¸€ä¸ªæ–°çš„ç®¡é“ã€‚å®šä¹‰å…¶åç§°ï¼Œå°†è§¦å‘æ¨¡å¼è®¾ç½®ä¸º `On push`ï¼Œå¹¶é€‰æ‹©è§¦å‘ç®¡é“æ‰§è¡Œçš„åˆ†æ”¯ã€‚
6. æ·»åŠ ä¸€ä¸ª `Node.js` åŠ¨ä½œã€‚
7. åœ¨åŠ¨ä½œçš„ç»ˆç«¯ä¸­æ·»åŠ ä»¥ä¸‹å‘½ä»¤ï¼š

```bash
GIT_USER=<GH_PERSONAL_ACCESS_TOKEN>
git config --global user.email "<YOUR_GH_EMAIL>"
git config --global user.name "<YOUR_GH_USERNAME>"
yarn deploy
```

åˆ›å»ºè¿™ä¸ªç®€å•çš„ç®¡é“åï¼Œæ¯æ¬¡å‘æ‚¨é€‰æ‹©çš„åˆ†æ”¯æ¨é€æ–°çš„æäº¤æ—¶ï¼Œéƒ½ä¼šä½¿ç”¨ `yarn deploy` å°†æ‚¨çš„ç½‘ç«™éƒ¨ç½²åˆ° GitHub Pagesã€‚é˜…è¯» [è¿™ç¯‡æŒ‡å—](https://buddy.works/guides/react-docusaurus) ä»¥äº†è§£æ›´å¤šå…³äºä¸º Docusaurus è®¾ç½® CI/CD ç®¡é“çš„ä¿¡æ¯ã€‚

### ä½¿ç”¨ Azure Pipelines {#using-azure-pipelines}

1. å¦‚æœæ‚¨å°šæœªæ³¨å†Œï¼Œè¯·åœ¨ [Azure Pipelines](https://azure.microsoft.com/en-us/services/devops/pipelines/) æ³¨å†Œã€‚
2. åˆ›å»ºä¸€ä¸ªç»„ç»‡ã€‚åœ¨ç»„ç»‡å†…ï¼Œåˆ›å»ºä¸€ä¸ªé¡¹ç›®å¹¶è¿æ¥æ‚¨çš„ GitHub ä»“åº“ã€‚
3. å‰å¾€ https://github.com/settings/tokens å¹¶ç”Ÿæˆä¸€ä¸ªæ–°çš„ [ä¸ªäººè®¿é—®ä»¤ç‰Œ](https://help.github.com/articles/creating-a-personal-access-token-for-the-command-line/)ï¼Œå¹¶æˆäºˆå…¶ `repo` èŒƒå›´ã€‚
4. åœ¨é¡¹ç›®é¡µé¢ï¼ˆURL ç±»ä¼¼äº `https://dev.azure.com/ORG_NAME/REPO_NAME/_build`ï¼‰åˆ›å»ºä¸€ä¸ªæ–°çš„ç®¡é“ï¼Œè¾“å…¥ä»¥ä¸‹æ–‡æœ¬ã€‚ç‚¹å‡»ç¼–è¾‘ï¼Œå¹¶æ·»åŠ ä¸€ä¸ªåä¸º `GH_TOKEN` çš„æ–°ç¯å¢ƒå˜é‡ï¼Œå…¶å€¼ä¸ºæ‚¨æ–°ç”Ÿæˆçš„ä»¤ç‰Œï¼Œç„¶ååˆ†åˆ«æ·»åŠ  `GH_EMAIL`ï¼ˆæ‚¨çš„ç”µå­é‚®ä»¶åœ°å€ï¼‰å’Œ `GH_NAME`ï¼ˆæ‚¨çš„ GitHub ç”¨æˆ·åï¼‰ã€‚ç¡®ä¿å°†å®ƒä»¬æ ‡è®°ä¸ºæœºå¯†ã€‚æˆ–è€…ï¼Œæ‚¨ä¹Ÿå¯ä»¥åœ¨æ‚¨çš„ä»“åº“æ ¹ç›®å½•ä¸‹æ·»åŠ ä¸€ä¸ªåä¸º `azure-pipelines.yml` çš„æ–‡ä»¶ã€‚

```yml title="azure-pipelines.yml"
trigger:
  - main

pool:
  vmImage: ubuntu-latest

steps:
  - checkout: self
    persistCredentials: true

  - task: NodeTool@0
    inputs:
      versionSpec: '18'
    displayName: Install Node.js

  - script: |
      git config --global user.name "${GH_NAME}"
      git config --global user.email "${GH_EMAIL}"
      git checkout -b main
      echo "machine github.com login ${GH_NAME} password ${GH_TOKEN}" > ~/.netrc
      yarn install
      GIT_USER="${GH_NAME}" yarn deploy
    env:
      GH_NAME: $(GH_NAME)
      GH_EMAIL: $(GH_EMAIL)
      GH_TOKEN: $(GH_TOKEN)
    displayName: Install and build
```

### ä½¿ç”¨ Drone {#using-drone}

1. åˆ›å»ºä¸€ä¸ªæ–°çš„ SSH å¯†é’¥ï¼Œä½œä¸ºæ‚¨é¡¹ç›®çš„ [éƒ¨ç½²å¯†é’¥](https://docs.github.com/en/free-pro-team@latest/developers/overview/managing-deploy-keys#deploy-keys)ã€‚
2. ä¸ºæ‚¨çš„ç§é’¥å’Œå…¬é’¥å‘½åï¼Œä»¥ä¾¿å…·ä½“ä¸”ä¸è¦†ç›–æ‚¨å…¶ä»–çš„ [SSH å¯†é’¥](https://docs.github.com/en/free-pro-team@latest/github/authenticating-to-github/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent)ã€‚
3. å‰å¾€ `https://github.com/USERNAME/REPO/settings/keys`ï¼Œå¹¶é€šè¿‡ç²˜è´´æ‚¨åˆšç”Ÿæˆçš„å…¬é’¥æ¥æ·»åŠ ä¸€ä¸ªæ–°çš„éƒ¨ç½²å¯†é’¥ã€‚
4. æ‰“å¼€æ‚¨çš„ Drone.io ä»ªè¡¨æ¿å¹¶ç™»å½•ã€‚URL çœ‹èµ·æ¥åƒ `https://cloud.drone.io/USERNAME/REPO`ã€‚
5. ç‚¹å‡»è¯¥ä»“åº“ï¼Œæ¿€æ´»ä»“åº“ï¼Œå¹¶æ·»åŠ ä¸€ä¸ªåä¸º `git_deploy_private_key` çš„ç§˜å¯†ï¼Œå€¼ä¸ºæ‚¨åˆšç”Ÿæˆçš„ç§é’¥ã€‚
6. åœ¨æ‚¨çš„ä»“åº“æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª `.drone.yml` æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š

```yml title=".drone.yml"
kind: pipeline
type: docker
trigger:
  event:
    - tag
- name: Website
  image: node
  commands:
    - mkdir -p $HOME/.ssh
    - ssh-keyscan -t rsa github.com >> $HOME/.ssh/known_hosts
    - echo "$GITHUB_PRIVATE_KEY" > "$HOME/.ssh/id_rsa"
    - chmod 0600 $HOME/.ssh/id_rsa
    - cd website
    - yarn install
    - yarn deploy
  environment:
    USE_SSH: true
    GITHUB_PRIVATE_KEY:
      from_secret: git_deploy_private_key
```

ç°åœ¨ï¼Œæ¯å½“æ‚¨å‘ GitHub æ¨é€ä¸€ä¸ªæ–°æ ‡ç­¾æ—¶ï¼Œè¿™ä¸ªè§¦å‘å™¨å°†å¯åŠ¨ Drone CI ä½œä¸šä»¥å‘å¸ƒæ‚¨çš„ç½‘ç«™ã€‚

## éƒ¨ç½²åˆ° Flightcontrol {#deploying-to-flightcontrol}

[Flightcontrol](https://www.flightcontrol.dev/?ref=docusaurus) æ˜¯ä¸€ä¸ªæœåŠ¡ï¼Œèƒ½å¤Ÿç›´æ¥ä»æ‚¨çš„ Git ä»“åº“è‡ªåŠ¨æ„å»ºå’Œéƒ¨ç½²æ‚¨çš„ Web åº”ç”¨åˆ° AWS Fargateã€‚å®ƒè®©æ‚¨èƒ½å¤Ÿå®Œå…¨è®¿é—®ã€æ£€æŸ¥å’Œè¿›è¡ŒåŸºç¡€è®¾æ–½æ›´æ”¹ï¼Œè€Œä¸å—ä¼ ç»Ÿ PaaS çš„é™åˆ¶ã€‚

æŒ‰ç…§ [Flightcontrol çš„åˆ†æ­¥ Docusaurus æŒ‡å—](https://www.flightcontrol.dev/docs/reference/examples/docusaurus/?ref=docusaurus) å¼€å§‹ã€‚

## éƒ¨ç½²åˆ° Koyeb {#deploying-to-koyeb}

[Koyeb](https://www.koyeb.com) æ˜¯ä¸€ä¸ªå¼€å‘è€…å‹å¥½çš„æ— æœåŠ¡å™¨å¹³å°ï¼Œç”¨äºå…¨çƒéƒ¨ç½²åº”ç”¨ã€‚è¯¥å¹³å°å…è®¸æ‚¨æ— ç¼è¿è¡Œ Docker å®¹å™¨ã€Web åº”ç”¨å’Œ APIï¼Œæä¾›åŸºäº Git çš„éƒ¨ç½²ã€åŸç”Ÿè‡ªåŠ¨ç¼©æ”¾ã€å…¨çƒè¾¹ç¼˜ç½‘ç»œä»¥åŠå†…ç½®çš„æœåŠ¡ç½‘æ ¼å’Œå‘ç°ã€‚è¯·æŸ¥çœ‹ [Koyeb çš„ Docusaurus éƒ¨ç½²æŒ‡å—](https://www.koyeb.com/tutorials/deploy-docusaurus-on-koyeb) ä»¥å¼€å§‹ã€‚

## éƒ¨ç½²åˆ° Render {#deploying-to-render}

[Render](https://render.com) æä¾› [å…è´¹é™æ€ç½‘ç«™æ‰˜ç®¡](https://render.com/docs/static-sites)ï¼Œå…·æœ‰å®Œå…¨æ‰˜ç®¡çš„ SSLã€è‡ªå®šä¹‰åŸŸåã€å…¨çƒ CDN å’Œæ¥è‡ªæ‚¨çš„ Git ä»“åº“çš„æŒç»­è‡ªåŠ¨éƒ¨ç½²ã€‚åªéœ€å‡ åˆ†é’Ÿï¼ŒæŒ‰ç…§ [Render çš„ Docusaurus éƒ¨ç½²æŒ‡å—](https://render.com/docs/deploy-docusaurus) å¼€å§‹ã€‚

## éƒ¨ç½²åˆ° Qovery {#deploying-to-qovery}

[Qovery](https://www.qovery.com) æ˜¯ä¸€ä¸ªå®Œå…¨æ‰˜ç®¡çš„äº‘å¹³å°ï¼Œå¯ä»¥åœ¨æ‚¨çš„ AWSã€Digital Ocean å’Œ Scaleway è´¦æˆ·ä¸Šè¿è¡Œï¼Œæ‚¨å¯ä»¥åœ¨ä¸€ä¸ªåœ°æ–¹æ‰˜ç®¡é™æ€ç½‘ç«™ã€åç«¯ APIã€æ•°æ®åº“ã€å®šæ—¶ä»»åŠ¡åŠå…¶ä»–åº”ç”¨ã€‚

1. åˆ›å»ºä¸€ä¸ª Qovery è´¦æˆ·ã€‚å¦‚æœæ‚¨è¿˜æ²¡æœ‰è´¦æˆ·ï¼Œè¯·è®¿é—® [Qovery ä»ªè¡¨æ¿](https://console.qovery.com) åˆ›å»ºä¸€ä¸ªã€‚
2. åˆ›å»ºä¸€ä¸ªé¡¹ç›®ã€‚
   - ç‚¹å‡» **Create project**ï¼Œä¸ºæ‚¨çš„é¡¹ç›®å‘½åã€‚
   - ç‚¹å‡» **Next**ã€‚
3. åˆ›å»ºä¸€ä¸ªæ–°ç¯å¢ƒã€‚
   - ç‚¹å‡» **Create environment** å¹¶å‘½åï¼ˆä¾‹å¦‚ stagingã€productionï¼‰ã€‚
4. æ·»åŠ ä¸€ä¸ªåº”ç”¨ã€‚
   - ç‚¹å‡» **Create an application**ï¼Œå‘½åå¹¶é€‰æ‹©åŒ…å«æ‚¨çš„ Docusaurus åº”ç”¨çš„ GitHub æˆ– GitLab ä»“åº“ã€‚
   - å®šä¹‰ä¸»åˆ†æ”¯åç§°å’Œæ ¹åº”ç”¨è·¯å¾„ã€‚
   - ç‚¹å‡» **Create**ã€‚åˆ›å»ºåº”ç”¨åï¼š
   - å¯¼èˆªåˆ°æ‚¨çš„åº”ç”¨ **Settings**
   - é€‰æ‹© **Port**
   - æ·»åŠ  Docusaurus åº”ç”¨ä½¿ç”¨çš„ç«¯å£ã€‚
5. éƒ¨ç½²
   - ç°åœ¨æ‚¨åªéœ€å¯¼èˆªåˆ°æ‚¨çš„åº”ç”¨å¹¶ç‚¹å‡» **Deploy**ã€‚

![Deploy the app](https://hub.qovery.com/img/heroku/heroku-1.png)

å®Œæˆäº†ã€‚è§‚å¯ŸçŠ¶æ€å¹¶ç­‰å¾…åº”ç”¨éƒ¨ç½²å®Œæˆã€‚è¦åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€åº”ç”¨ï¼Œç‚¹å‡» **Action** å’Œ **Open** åœ¨åº”ç”¨æ¦‚è§ˆä¸­ã€‚

## éƒ¨ç½²åˆ° Hostman {#deploying-to-hostman}

[Hostman](https://hostman.com/) å…è®¸æ‚¨å…è´¹æ‰˜ç®¡é™æ€ç½‘ç«™ã€‚Hostman è‡ªåŠ¨åŒ–ä¸€åˆ‡ï¼Œæ‚¨åªéœ€è¿æ¥æ‚¨çš„ä»“åº“å¹¶æŒ‰ç…§ä»¥ä¸‹ç®€å•æ­¥éª¤æ“ä½œï¼š

1. åˆ›å»ºä¸€ä¸ªæœåŠ¡ã€‚

   - è¦éƒ¨ç½²ä¸€ä¸ª Docusaurus é™æ€ç½‘ç«™ï¼Œè¯·åœ¨æ‚¨çš„ [Dashboard](https://dashboard.hostman.com/) çš„å·¦ä¸Šè§’ç‚¹å‡» **Create**ï¼Œé€‰æ‹© **Front-end app or static website**ã€‚

2. é€‰æ‹©è¦éƒ¨ç½²çš„é¡¹ç›®ã€‚

   - å¦‚æœæ‚¨ä½¿ç”¨ GitHubã€GitLab æˆ– Bitbucket è´¦æˆ·ç™»å½• Hostmanï¼Œæ‚¨å°†çœ‹åˆ°åŒ…å«æ‚¨é¡¹ç›®çš„ä»“åº“ï¼ŒåŒ…æ‹¬ç§æœ‰çš„ã€‚

   - é€‰æ‹©æ‚¨æƒ³è¦éƒ¨ç½²çš„é¡¹ç›®ã€‚å®ƒå¿…é¡»åŒ…å«é¡¹ç›®æ–‡ä»¶çš„ç›®å½•ï¼ˆä¾‹å¦‚ `website`ï¼‰ã€‚

   - è¦è®¿é—®å…¶ä»–ä»“åº“ï¼Œè¯·ç‚¹å‡» **Connect another repository**ã€‚

   - å¦‚æœæ‚¨æ²¡æœ‰ä½¿ç”¨ Git è´¦æˆ·å‡­æ®ç™»å½•ï¼Œæ‚¨ç°åœ¨å¯ä»¥è®¿é—®æ‰€éœ€çš„è´¦æˆ·ï¼Œç„¶åé€‰æ‹©é¡¹ç›®ã€‚

3. é…ç½®æ„å»ºè®¾ç½®ã€‚

   - æ¥ä¸‹æ¥ï¼Œ**Website customization** çª—å£å°†å‡ºç°ã€‚ä»æ¡†æ¶åˆ—è¡¨ä¸­é€‰æ‹© **Static website** é€‰é¡¹ã€‚

   - **Directory with app** æŒ‡å‘æ„å»ºåå°†åŒ…å«é¡¹ç›®æ–‡ä»¶çš„ç›®å½•ã€‚å¦‚æœæ‚¨åœ¨æ­¥éª¤ 2 ä¸­é€‰æ‹©äº†åŒ…å«ç½‘ç«™å†…å®¹çš„ä»“åº“ï¼ˆæˆ– `my_website`ï¼‰ç›®å½•ï¼Œå¯ä»¥ç•™ç©ºã€‚

   - Docusaurus çš„æ ‡å‡†æ„å»ºå‘½ä»¤ä¸ºï¼š

     ```bash
     npm run build
     ```

   - å¦‚æœ‰éœ€è¦ï¼Œæ‚¨å¯ä»¥ä¿®æ”¹æ„å»ºå‘½ä»¤ã€‚æ‚¨å¯ä»¥è¾“å…¥å¤šä¸ªå‘½ä»¤ï¼Œä»¥ `&&` åˆ†éš”ã€‚

4. éƒ¨ç½²ã€‚

   - ç‚¹å‡» **Deploy** å¼€å§‹æ„å»ºè¿‡ç¨‹ã€‚

   - ä¸€æ—¦å¼€å§‹ï¼Œæ‚¨å°†è¿›å…¥éƒ¨ç½²æ—¥å¿—ã€‚å¦‚æœä»£ç å­˜åœ¨ä»»ä½•é—®é¢˜ï¼Œæ—¥å¿—ä¸­å°†æ˜¾ç¤ºè­¦å‘Šæˆ–é”™è¯¯æ¶ˆæ¯ï¼ŒæŒ‡æ˜é—®é¢˜çš„åŸå› ã€‚é€šå¸¸ï¼Œæ—¥å¿—åŒ…å«æ‚¨éœ€è¦çš„æ‰€æœ‰è°ƒè¯•æ•°æ®ã€‚

   - éƒ¨ç½²å®Œæˆåï¼Œæ‚¨å°†æ”¶åˆ°ç”µå­é‚®ä»¶é€šçŸ¥ï¼Œå¹¶åœ¨æ—¥å¿—ä¸­çœ‹åˆ°è®°å½•ã€‚ä¸€åˆ‡å°±ç»ªï¼æ‚¨çš„é¡¹ç›®å·²ä¸Šçº¿ã€‚

## éƒ¨ç½²åˆ° Surge {#deploying-to-surge}

Surge æ˜¯ä¸€ä¸ª [é™æ€ç½‘ç«™æ‰˜ç®¡å¹³å°](https://surge.sh/help/getting-started-with-surge)ï¼Œæ‚¨å¯ä»¥åœ¨å‡ ç§’é’Ÿå†…é€šè¿‡å‘½ä»¤è¡Œéƒ¨ç½² Docusaurus é¡¹ç›®ã€‚å°†é¡¹ç›®éƒ¨ç½²åˆ° Surge å¾ˆç®€å•ä¸”å…è´¹ï¼ˆåŒ…æ‹¬è‡ªå®šä¹‰åŸŸåå’Œ SSL è¯ä¹¦ï¼‰ã€‚

ä½¿ç”¨ä»¥ä¸‹æ­¥éª¤åœ¨å‡ ç§’é’Ÿå†…ä½¿ç”¨ Surge éƒ¨ç½²æ‚¨çš„åº”ç”¨ï¼š

1. é¦–å…ˆï¼Œé€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤ä½¿ç”¨ npm å®‰è£… Surgeï¼š
   ```bash
   npm install -g surge
   ```
2. åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œæ„å»ºç½‘ç«™çš„é™æ€æ–‡ä»¶ï¼š
   ```bash
   npm run build
   ```
3. ç„¶åï¼Œåœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
   ```bash
   surge build/
   ```

é¦–æ¬¡ä½¿ç”¨ Surge çš„ç”¨æˆ·å°†è¢«æç¤ºåœ¨å‘½ä»¤è¡Œä¸­åˆ›å»ºè´¦æˆ·ï¼ˆä»…å‘ç”Ÿä¸€æ¬¡ï¼‰ã€‚

ç¡®è®¤æ‚¨è¦å‘å¸ƒçš„ç½‘ç«™åœ¨ `build` ç›®å½•ä¸­ã€‚ç³»ç»Ÿå°†å§‹ç»ˆåˆ†é…ä¸€ä¸ªéšæœºç”Ÿæˆçš„å­åŸŸå `*.surge.sh`ï¼ˆå¯ç¼–è¾‘ï¼‰ã€‚

### ä½¿ç”¨æ‚¨çš„åŸŸå {#using-your-domain}

å¦‚æœæ‚¨æœ‰åŸŸåï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤éƒ¨ç½²æ‚¨çš„ç½‘ç«™ï¼š

```bash
surge build/ your-domain.com
```

æ‚¨çš„ç½‘ç«™ç°åœ¨å·²å…è´¹éƒ¨ç½²åˆ° `subdomain.surge.sh` æˆ– `your-domain.com`ï¼Œå…·ä½“å–å†³äºæ‚¨é€‰æ‹©çš„æ–¹æ³•ã€‚

### è®¾ç½® CNAME æ–‡ä»¶ {#setting-up-cname-file}

ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†æ‚¨çš„åŸŸåå­˜å‚¨åœ¨ CNAME æ–‡ä»¶ä¸­ï¼Œä»¥ä¾¿äºå°†æ¥çš„éƒ¨ç½²ï¼š

```bash
echo subdomain.surge.sh > CNAME
```

æ‚¨å¯ä»¥åœ¨æœªæ¥ä½¿ç”¨å‘½ä»¤ `surge` éƒ¨ç½²ä»»ä½•å…¶ä»–æ›´æ”¹ã€‚

## éƒ¨ç½²åˆ° Stormkit {#deploying-to-stormkit}

æ‚¨å¯ä»¥å°† Docusaurus é¡¹ç›®éƒ¨ç½²åˆ° [Stormkit](https://www.stormkit.io)ï¼Œè¿™æ˜¯ä¸€ä¸ªé’ˆå¯¹é™æ€ç½‘ç«™ã€å•é¡µé¢åº”ç”¨ï¼ˆSPAï¼‰å’Œæ— æœåŠ¡å™¨å‡½æ•°çš„éƒ¨ç½²å¹³å°ã€‚æœ‰å…³è¯¦ç»†è¯´æ˜ï¼Œè¯·å‚é˜… [æœ¬æŒ‡å—](https://www.stormkit.io/blog/how-to-deploy-docusarous)ã€‚

## éƒ¨ç½²åˆ° QuantCDN {#deploying-to-quantcdn}

1. å®‰è£… [Quant CLI](https://docs.quantcdn.io/docs/cli/get-started)
2. é€šè¿‡ [æ³¨å†Œ](https://dashboard.quantcdn.io/register) åˆ›å»ºä¸€ä¸ª QuantCDN è´¦æˆ·
3. ä½¿ç”¨ `quant init` åˆå§‹åŒ–æ‚¨çš„é¡¹ç›®ï¼Œå¹¶å¡«å†™å‡­æ®ï¼š
   ```bash
  

 quant init
   ```
4. éƒ¨ç½²æ‚¨çš„ç½‘ç«™ã€‚
   ```bash
   quant deploy
   ```

æŸ¥çœ‹ [æ–‡æ¡£](https://docs.quantcdn.io/docs/cli/continuous-integration) å’Œ [åšå®¢](https://www.quantcdn.io/blog)ï¼Œäº†è§£æ›´å¤šç¤ºä¾‹å’Œä½¿ç”¨æ¡ˆä¾‹ï¼Œäº†è§£å¦‚ä½•éƒ¨ç½²åˆ° QuantCDNã€‚

## éƒ¨ç½²åˆ° Layer0 {#deploying-to-layer0}

[Layer0](https://www.layer0.co) æ˜¯ä¸€ä¸ªä¸€ä½“åŒ–å¹³å°ï¼Œç”¨äºå¼€å‘ã€éƒ¨ç½²ã€é¢„è§ˆã€å®éªŒã€ç›‘æ§å’Œè¿è¡Œæ— å¤´å‰ç«¯ã€‚å®ƒä¸“æ³¨äºå¤§å‹åŠ¨æ€ç½‘ç«™ï¼Œé€šè¿‡ EdgeJSï¼ˆåŸºäº JavaScript çš„å†…å®¹åˆ†å‘ç½‘ç»œï¼‰ã€é¢„æµ‹é¢„å–å’Œæ€§èƒ½ç›‘æ§å®ç°å“è¶Šæ€§èƒ½ã€‚Layer0 æä¾›å…è´¹å±‚ã€‚é€šè¿‡éµå¾ª [Layer0 çš„ Docusaurus éƒ¨ç½²æŒ‡å—](https://docs.layer0.co/guides/docusaurus) åœ¨å‡ åˆ†é’Ÿå†…å¼€å§‹ã€‚

## éƒ¨ç½²åˆ° Cloudflare Pages {#deploying-to-cloudflare-pages}

[Cloudflare Pages](https://pages.cloudflare.com/) æ˜¯ä¸€ä¸ª Jamstack å¹³å°ï¼Œä¾›å‰ç«¯å¼€å‘äººå‘˜åä½œå’Œéƒ¨ç½²ç½‘ç«™ã€‚é€šè¿‡éµå¾ª [è¿™ç¯‡æ–‡ç« ](https://dev.to/apidev234/deploying-docusaurus-to-cloudflare-pages-565g)ï¼Œåœ¨å‡ åˆ†é’Ÿå†…å¼€å§‹ã€‚

## éƒ¨ç½²åˆ° Azure é™æ€ Web åº”ç”¨ {#deploying-to-azure-static-web-apps}

[Azure é™æ€ Web åº”ç”¨](https://docs.microsoft.com/en-us/azure/static-web-apps/overview) æ˜¯ä¸€ç§æœåŠ¡ï¼Œå¯ä»¥è‡ªåŠ¨æ„å»ºå’Œéƒ¨ç½²å…¨æ ˆ Web åº”ç”¨åˆ° Azureï¼Œç›´æ¥ä»ä»£ç ä»“åº“ï¼Œç®€åŒ– CI/CD çš„å¼€å‘è€…ä½“éªŒã€‚é™æ€ Web åº”ç”¨å°† Web åº”ç”¨çš„é™æ€èµ„äº§ä¸å…¶åŠ¨æ€ï¼ˆAPIï¼‰ç«¯ç‚¹åˆ†å¼€ã€‚é™æ€èµ„äº§ä»å…¨çƒåˆ†å‘çš„å†…å®¹æœåŠ¡å™¨æä¾›ï¼Œä½¿å®¢æˆ·ç«¯æ›´å¿«åœ°é€šè¿‡é™„è¿‘çš„æœåŠ¡å™¨æ£€ç´¢æ–‡ä»¶ã€‚åŠ¨æ€ API é‡‡ç”¨åŸºäºäº‹ä»¶é©±åŠ¨çš„æ— æœåŠ¡å™¨æ¶æ„è¿›è¡Œæ‰©å±•ï¼Œè¿™ç§æ–¹å¼æ›´å…·æˆæœ¬æ•ˆç›Šï¼Œå¹¶æŒ‰éœ€æ‰©å±•ã€‚é€šè¿‡éµå¾ª [è¿™ç¯‡åˆ†æ­¥æŒ‡å—](https://dev.to/azure/11-share-content-with-docusaurus-azure-static-web-apps-30hc)ï¼Œåœ¨å‡ åˆ†é’Ÿå†…å¼€å§‹ã€‚

## éƒ¨ç½²åˆ° Kinsta {#deploying-to-kinsta}

[Kinsta é™æ€ç½‘ç«™æ‰˜ç®¡](https://kinsta.com/static-site-hosting) è®©æ‚¨å…è´¹éƒ¨ç½²å¤šè¾¾ 100 ä¸ªé™æ€ç½‘ç«™ï¼Œè‡ªå®šä¹‰åŸŸåå¸¦ SSLï¼Œ100 GB æ¯æœˆå¸¦å®½ï¼Œå’Œ 260 å¤šä¸ª Cloudflare CDN ä½ç½®ã€‚

åªéœ€å‡ æ¬¡ç‚¹å‡»ï¼ŒæŒ‰ç…§æˆ‘ä»¬çš„ [Kinsta ä¸Šçš„ Docusaurus](https://kinsta.com/docs/docusaurus-example/) æ–‡ç« å¼€å§‹ã€‚